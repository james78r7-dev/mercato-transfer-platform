<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’° Ø£ÙƒØ«Ø± 10 Ø£Ù†Ø¯ÙŠØ© ØµØ±ÙØ§Ù‹ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="smart-logo-system.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
            color: #f8fafc;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(245, 158, 11, 0.04) 0%, transparent 50%);
            z-index: -2;
            animation: backgroundFlow 25s ease-in-out infinite;
        }

        /* Ø´Ø¨ÙƒØ© Ù…ØªØ­Ø±ÙƒØ© Ù‡Ø§Ø¯Ø¦Ø© */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(59, 130, 246, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(16, 185, 129, 0.015) 1px, transparent 1px);
            background-size: 80px 80px;
            animation: gridMove 40s linear infinite;
            z-index: -1;
        }

        @keyframes backgroundFlow {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.02) rotate(0.5deg);
                opacity: 0.9;
            }
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(80px, 80px); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .main-title {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .subtitle {
            font-size: 1.3rem;
            color: #94a3b8;
            margin-bottom: 2rem;
        }

        .update-section {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .update-btn {
            background: linear-gradient(45deg, #10b981, #059669);
            border: none;
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .update-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(16, 185, 129, 0.4);
        }

        .update-btn:active {
            transform: translateY(-1px);
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #94a3b8;
            position: relative;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 215, 0, 0.1);
            border-top: 4px solid #ffd700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
            position: relative;
        }

        .loading-spinner::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            border: 2px solid rgba(59, 130, 246, 0.2);
            border-top: 2px solid #3b82f6;
            border-radius: 50%;
            animation: spin 0.8s linear infinite reverse;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù… */
        .progress-container {
            width: 100%;
            max-width: 400px;
            margin: 1rem auto;
            background: rgba(26, 26, 46, 0.5);
            border-radius: 25px;
            padding: 0.5rem;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, #ffd700, #ffed4e, #3b82f6);
            border-radius: 20px;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-text {
            text-align: center;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #94a3b8;
            font-weight: 600;
        }

        .clubs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .club-card {
            background: rgba(26, 26, 46, 0.9);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }

        .club-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.1), rgba(255, 237, 78, 0.05));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .club-card:hover {
            transform: translateY(-8px);
            border-color: #ffd700;
            box-shadow: 0 20px 50px rgba(255, 215, 0, 0.2);
        }

        .club-card:hover::before {
            opacity: 1;
        }

        .club-rank {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #0a0a0f;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 900;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }

        .club-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .club-logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
            object-fit: cover;
            object-position: center;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .club-card:hover .club-logo {
            border-color: #ffd700;
            transform: scale(1.1);
        }

        .club-info {
            flex: 1;
        }

        .club-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: #f8fafc;
            margin-bottom: 0.5rem;
        }

        .club-league {
            color: #94a3b8;
            font-size: 1rem;
        }

        .expenditure-section {
            position: relative;
            z-index: 2;
        }

        .expenditure-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .expenditure-amount {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ef4444, #dc2626);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-item {
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #3b82f6;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 0.25rem;
        }

        .last-updated {
            text-align: center;
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(26, 26, 46, 0.5);
            border-radius: 12px;
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª */
        .totals-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            border-radius: 16px;
            border: 1px solid rgba(16, 185, 129, 0.2);
            backdrop-filter: blur(10px);
        }

        .total-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .total-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.05) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .total-card:hover::before {
            transform: translateX(100%);
        }

        .total-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 215, 0, 0.3);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2);
        }

        .total-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .total-value {
            font-size: 2rem;
            font-weight: 900;
            color: #ffd700;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }

        .total-label {
            font-size: 1rem;
            color: #94a3b8;
            font-weight: 600;
        }

        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid #ef4444;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            color: #ef4444;
            margin: 2rem 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .clubs-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .club-card {
                padding: 1.5rem;
            }
            
            .expenditure-amount {
                font-size: 2rem;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            padding: 2rem 2rem 1rem;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            color: #ffd700;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 0.5rem;
            border-radius: 50%;
        }

        .close-btn:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .modal-body {
            padding: 2rem;
        }

        .schedule-option {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(26, 26, 46, 0.5);
            border-radius: 12px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .schedule-option label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #f8fafc;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 1rem;
        }

        .schedule-option input[type="radio"],
        .schedule-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #ffd700;
        }

        .interval-options,
        .specific-times {
            margin-top: 1rem;
            padding-left: 2rem;
        }

        .interval-options select,
        .specific-times input {
            background: rgba(26, 26, 46, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 0.75rem;
            color: #f8fafc;
            font-size: 1rem;
            margin-right: 0.5rem;
        }

        .interval-options select:focus,
        .specific-times input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1);
        }

        .modal-footer {
            padding: 1rem 2rem 2rem;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .modal-btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .modal-btn.cancel {
            background: rgba(148, 163, 184, 0.2);
            color: #94a3b8;
            border: 2px solid rgba(148, 163, 184, 0.3);
        }

        .modal-btn.cancel:hover {
            background: rgba(148, 163, 184, 0.3);
            color: #f8fafc;
        }

        .modal-btn.confirm {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .modal-btn.confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">ğŸ’° Ø£ÙƒØ«Ø± 10 Ø£Ù†Ø¯ÙŠØ© ØµØ±ÙØ§Ù‹ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª 2025</h1>
            <p class="subtitle">Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Transfermarkt</p>
        </div>

        <div class="update-section">
            <button class="update-btn" onclick="fetchLatestData()">
                <i class="fas fa-sync-alt"></i>
                ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¢Ù†
            </button>
            <button class="update-btn" onclick="toggleAutoUpdate()" id="autoUpdateBtn" style="background: linear-gradient(45deg, #3b82f6, #2563eb);">
                <i class="fas fa-clock"></i>
                ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            </button>
            <button class="update-btn" onclick="showScheduleModal()" style="background: linear-gradient(45deg, #6366f1, #4f46e5);">
                <i class="fas fa-calendar-alt"></i>
                Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«
            </button>
            <button class="update-btn" onclick="exportData()" style="background: linear-gradient(45deg, #8b5cf6, #7c3aed);">
                <i class="fas fa-download"></i>
                ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            </button>
            <button class="update-btn" onclick="openDisplayPage()" style="background: linear-gradient(45deg, #f59e0b, #d97706);">
                <i class="fas fa-external-link-alt"></i>
                Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ
            </button>
            <button class="update-btn" onclick="showHelpModal()" style="background: linear-gradient(45deg, #64748b, #475569);">
                <i class="fas fa-question-circle"></i>
                Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            </button>
            <button class="update-btn" onclick="showLogoStats()" style="background: linear-gradient(45deg, #10b981, #059669);">
                <i class="fas fa-images"></i>
                Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
            </button>
            <button class="update-btn" onclick="diagnoseLinkingIssues()" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">
                <i class="fas fa-stethoscope"></i>
                ØªØ´Ø®ÙŠØµ Ø§Ù„Ø±Ø¨Ø·
            </button>
        </div>

        <div id="loadingSection" class="loading" style="display: none;">
            <div class="loading-spinner"></div>
            <p id="loadingText">Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£Ø­Ø¯Ø« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Transfermarkt...</p>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
        </div>

        <div id="errorSection" class="error-message" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <p>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù† - Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆÙ…ØµØ±ÙˆÙØ§Øª ÙÙ‚Ø· -->
        <div id="totalsSection" class="totals-section" style="display: none;">
            <div class="total-card">
                <div class="total-icon">
                    <i class="fas fa-euro-sign"></i>
                </div>
                <div class="total-value" id="totalExpenditure">â‚¬0.00m</div>
                <div class="total-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚</div>
            </div>

            <div class="total-card">
                <div class="total-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="total-value" id="totalIncome">â‚¬0.00m</div>
                <div class="total-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>
            </div>

            <div class="total-card">
                <div class="total-icon">
                    <i class="fas fa-balance-scale"></i>
                </div>
                <div class="total-value" id="totalBalance">â‚¬0.00m</div>
                <div class="total-label">ØµØ§ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</div>
            </div>

            <div class="total-card">
                <div class="total-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="total-value" id="totalClubs">10</div>
                <div class="total-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†Ø¯ÙŠØ©</div>
            </div>
        </div>

        <div id="clubsGrid" class="clubs-grid">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ -->
        </div>

        <div id="lastUpdated" class="last-updated">
            Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ø¹Ø¯
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« -->
    <div id="scheduleModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-alt"></i> Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø°ÙƒÙŠ</h3>
                <button class="close-btn" onclick="closeScheduleModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="schedule-option">
                    <label>
                        <input type="radio" name="scheduleType" value="interval" checked>
                        <span>ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ±ÙŠ</span>
                    </label>
                    <div class="interval-options">
                        <select id="intervalSelect">
                            <option value="1">ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©</option>
                            <option value="5" selected>ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚</option>
                            <option value="10">ÙƒÙ„ 10 Ø¯Ù‚Ø§Ø¦Ù‚</option>
                            <option value="15">ÙƒÙ„ 15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
                            <option value="30">ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©</option>
                            <option value="60">ÙƒÙ„ Ø³Ø§Ø¹Ø©</option>
                        </select>
                    </div>
                </div>

                <div class="schedule-option">
                    <label>
                        <input type="radio" name="scheduleType" value="specific">
                        <span>Ø£ÙˆÙ‚Ø§Øª Ù…Ø­Ø¯Ø¯Ø©</span>
                    </label>
                    <div class="specific-times">
                        <input type="time" id="time1" value="09:00">
                        <input type="time" id="time2" value="15:00">
                        <input type="time" id="time3" value="21:00">
                    </div>
                </div>

                <div class="schedule-option">
                    <label>
                        <input type="checkbox" id="smartUpdate">
                        <span>Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø°ÙƒÙŠ (ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ‚Ø·)</span>
                    </label>
                </div>

                <div class="schedule-option">
                    <label>
                        <input type="checkbox" id="offlineMode">
                        <span>Ø§Ù„ÙˆØ¶Ø¹ ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„ (Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹)</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" onclick="closeScheduleModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="modal-btn confirm" onclick="applySchedule()">ØªØ·Ø¨ÙŠÙ‚</button>
            </div>
        </div>
    </div>

    <script src="system-monitor.js"></script>
    <script>
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
        if (typeof SmartLogoSystem === 'undefined') {
            console.warn('âš ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ù…Ø­Ù…Ù„ - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… Ø¨Ø¯ÙŠÙ„');
            window.SmartLogoSystem = {
                getClubLogo: function(clubName) {
                    return `https://ui-avatars.com/api/?name=${encodeURIComponent(clubName.substring(0, 2))}&size=400&background=1a1a2e&color=ffd700&bold=true&format=png&rounded=true&font-size=0.6`;
                },
                getStats: function() {
                    return { totalClubs: 0, cachedLogos: 0, fallbackSources: 0 };
                }
            };
        }

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙˆÙ„ÙŠ (Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø¨Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©)
        let defaultClubsData = [
            {
                rank: 1,
                name: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„",
                englishName: "Liverpool FC",
                expenditure: "â‚¬308.68m",
                arrivals: 13,
                income: "â‚¬63.30m",
                departures: 6,
                balance: "â‚¬-245.38m",
                league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø²",
                logo: "https://logos-world.net/wp-content/uploads/2020/06/Liverpool-Logo.png"
            },
            {
                rank: 2,
                name: "ØªØ´ÙŠÙ„Ø³ÙŠ",
                englishName: "Chelsea FC",
                expenditure: "â‚¬243.77m",
                arrivals: 22,
                income: "â‚¬121.48m",
                departures: 8,
                balance: "â‚¬-122.29m",
                league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø²",
                logo: "https://logos-world.net/wp-content/uploads/2020/06/Chelsea-Logo.png"
            },
            {
                rank: 3,
                name: "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯",
                englishName: "Real Madrid",
                expenditure: "â‚¬167.50m",
                arrivals: 7,
                income: "â‚¬2.00m",
                departures: 4,
                balance: "â‚¬-165.50m",
                league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ",
                logo: "https://logos-world.net/wp-content/uploads/2020/06/Real-Madrid-Logo.png"
            }
        ];

        let currentData = [...defaultClubsData];

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
        function displayClubs(clubs) {
            const grid = document.getElementById('clubsGrid');
            grid.innerHTML = '';

            clubs.forEach(club => {
                const clubCard = createClubCard(club);
                grid.appendChild(clubCard);
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
            updateTotals(clubs);
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù† - Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆÙ…ØµØ±ÙˆÙØ§Øª ÙÙ‚Ø·
        function updateTotals(clubs) {
            if (!clubs || clubs.length === 0) {
                console.warn('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù†Ø¯ÙŠØ© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª');
                return;
            }

            console.log('ğŸ§® Ø¨Ø¯Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ù„Ù€', clubs.length, 'Ù†Ø§Ø¯ÙŠ');

            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙÙ‚Ø·
            let totalExpenditure = 0;
            let totalIncome = 0;
            let totalBalance = 0;
            let validClubs = 0;

            clubs.forEach((club, index) => {
                try {
                    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ù…Ù† Ù†Øµ Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£ÙØ¶Ù„
                    let expenditureValue = 0;
                    if (club.expenditure && typeof club.expenditure === 'string') {
                        const cleanExpenditure = club.expenditure.replace(/[^0-9.-]/g, '');
                        expenditureValue = parseFloat(cleanExpenditure) || 0;

                        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø±Ù‚Ù… ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø§Ù„Ù…Ù„ÙŠØ§Ø±Ø§Øª
                        if (expenditureValue < 1 && expenditureValue > 0) {
                            expenditureValue = expenditureValue * 1000;
                        }
                    }
                    totalExpenditure += expenditureValue;

                    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù† Ù†Øµ Ø¥Ù„Ù‰ Ø±Ù‚Ù…
                    let incomeValue = 0;
                    if (club.income && typeof club.income === 'string') {
                        const cleanIncome = club.income.replace(/[^0-9.-]/g, '');
                        incomeValue = parseFloat(cleanIncome) || 0;

                        if (incomeValue < 1 && incomeValue > 0) {
                            incomeValue = incomeValue * 1000;
                        }
                    }
                    totalIncome += incomeValue;

                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© (Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª - Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª)
                    const balanceValue = incomeValue - expenditureValue;
                    totalBalance += balanceValue;

                    validClubs++;

                    console.log(`Ø§Ù„Ù†Ø§Ø¯ÙŠ ${index + 1} (${club.name}):`, {
                        expenditure: expenditureValue,
                        income: incomeValue,
                        balance: balanceValue
                    });

                } catch (error) {
                    console.error(`Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø§Ø¯ÙŠ ${index + 1}:`, error);
                }
            });

            console.log('ğŸ“Š Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©:', {
                totalExpenditure: totalExpenditure.toFixed(2),
                totalIncome: totalIncome.toFixed(2),
                totalBalance: totalBalance.toFixed(2),
                validClubs
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ø¹ ØªÙ†Ø³ÙŠÙ‚ Ø£ÙØ¶Ù„
            const expenditureElement = document.getElementById('totalExpenditure');
            const incomeElement = document.getElementById('totalIncome');
            const balanceElement = document.getElementById('totalBalance');
            const clubsElement = document.getElementById('totalClubs');

            if (expenditureElement) {
                expenditureElement.textContent = `â‚¬${totalExpenditure.toFixed(1)}m`;
                expenditureElement.style.color = '#ef4444'; // Ø£Ø­Ù…Ø± Ù„Ù„Ø¥Ù†ÙØ§Ù‚
            }

            if (incomeElement) {
                incomeElement.textContent = `â‚¬${totalIncome.toFixed(1)}m`;
                incomeElement.style.color = '#10b981'; // Ø£Ø®Ø¶Ø± Ù„Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
            }

            if (balanceElement) {
                const balanceColor = totalBalance >= 0 ? '#10b981' : '#ef4444';
                const balanceSign = totalBalance >= 0 ? '+' : '';
                balanceElement.textContent = `â‚¬${balanceSign}${totalBalance.toFixed(1)}m`;
                balanceElement.style.color = balanceColor;
            }

            if (clubsElement) {
                clubsElement.textContent = validClubs;
                clubsElement.style.color = '#ffd700'; // Ø°Ù‡Ø¨ÙŠ Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†Ø¯ÙŠØ©
            }

            // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ù…Ø¹ ØªØ£Ø«ÙŠØ±
            const totalsSection = document.getElementById('totalsSection');
            if (totalsSection) {
                totalsSection.style.display = 'grid';
                totalsSection.style.opacity = '0';
                totalsSection.style.transform = 'translateY(20px)';

                // ØªØ£Ø«ÙŠØ± Ø¸Ù‡ÙˆØ± ØªØ¯Ø±ÙŠØ¬ÙŠ
                setTimeout(() => {
                    totalsSection.style.transition = 'all 0.5s ease';
                    totalsSection.style.opacity = '1';
                    totalsSection.style.transform = 'translateY(0)';
                }, 100);
            }

            console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù†Ø§Ø¯ÙŠ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù† ÙˆØ§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        function createClubCard(club) {
            const card = document.createElement('div');
            card.className = 'club-card';

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†Ø© (Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ù„Ù„Ø¨Ø­Ø«)
            const searchName = club.englishName || club.name;
            const logoData = ClubLogoManager.getClubLogo(searchName);
            const primaryLogo = club.logo || logoData.primary;
            const fallbackLogo = club.logoFallback || logoData.fallback;
            const league = club.league || logoData.league;

            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù„Ù„Ø¹Ø±Ø¶
            const displayName = club.name;

            card.innerHTML = `
                <div class="club-rank">${club.rank}</div>

                <div class="club-header">
                    <img src="${primaryLogo}"
                         alt="${displayName}"
                         class="club-logo"
                         data-fallback="${fallbackLogo}"
                         onerror="handleLogoError(this, '${searchName}')">
                    <div class="club-info">
                        <div class="club-name">${displayName}</div>
                        <div class="club-league">${league}</div>
                    </div>
                </div>

                <div class="expenditure-section">
                    <div class="expenditure-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚</div>
                    <div class="expenditure-amount">${club.expenditure}</div>
                </div>

                <div class="stats-row">
                    <div class="stat-item">
                        <div class="stat-value" style="color: #10b981;">${club.income || 'â‚¬0.00m'}</div>
                        <div class="stat-label">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" style="color: #3b82f6;">${club.balance || 'â‚¬0.00m'}</div>
                        <div class="stat-label">ØµØ§ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" style="color: #f59e0b;">${club.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>
                        <div class="stat-label">Ø§Ù„Ø¯ÙˆØ±ÙŠ</div>
                    </div>
                </div>
            `;

            return card;
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        function handleLogoError(imgElement, clubName) {
            const fallbackUrl = imgElement.getAttribute('data-fallback');
            const currentSrc = imgElement.src;

            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± ØªØ­Ù…ÙŠÙ„
            imgElement.style.opacity = '0.5';

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø´Ø¹Ø§Ø± Ø¨Ø¯ÙŠÙ„ Ù„Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            const alternativeLogos = [
                `https://logos-world.net/wp-content/uploads/2020/06/${clubName.replace(/\s+/g, '-').toLowerCase()}-logo.png`,
                `https://logoeps.com/wp-content/uploads/2013/03/${clubName.replace(/\s+/g, '-').toLowerCase()}-vector-logo.png`,
                `https://seeklogo.com/images/${clubName.charAt(0).toLowerCase()}/${clubName.replace(/\s+/g, '-').toLowerCase()}-logo-vector.png`
            ];
            imgElement.style.filter = 'blur(2px)';

            if (fallbackUrl && currentSrc !== fallbackUrl) {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                imgElement.src = fallbackUrl;

                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ø¬Ø§Ø­
                imgElement.onload = function() {
                    this.style.opacity = '1';
                    this.style.filter = 'none';
                    this.onload = null;
                };

            } else {
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¹Ø§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ø®ØµØµ
                const logoData = ClubLogoManager.getClubLogo(clubName);

                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø´Ø¹Ø§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
                const fallbackOptions = [
                    logoData.fallback,
                    `https://tmssl.akamaized.net/images/wappen/head/${getClubId(clubName)}.png`,
                    `https://tmssl.akamaized.net/images/wappen/tiny/${getClubId(clubName)}.png`,
                    createCustomLogo(clubName)
                ];

                tryNextFallback(imgElement, fallbackOptions, 0, clubName);
            }
        }

        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ø§Ù„ØªØ³Ù„Ø³Ù„
        function tryNextFallback(imgElement, fallbackOptions, index, clubName) {
            if (index >= fallbackOptions.length) {
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
                imgElement.src = createCustomLogo(clubName);
                imgElement.style.opacity = '1';
                imgElement.style.filter = 'none';
                imgElement.onerror = null;
                return;
            }

            imgElement.src = fallbackOptions[index];

            imgElement.onload = function() {
                this.style.opacity = '1';
                this.style.filter = 'none';
                this.onload = null;
                this.onerror = null;
            };

            imgElement.onerror = function() {
                tryNextFallback(this, fallbackOptions, index + 1, clubName);
            };
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø¹Ø§Ø± Ù…Ø®ØµØµ Ù„Ù„Ù†Ø§Ø¯ÙŠ
        function createCustomLogo(clubName) {
            const firstLetter = clubName.charAt(0).toUpperCase();
            const colors = {
                'L': '4CAF50', 'C': '2196F3', 'M': 'FF5722', 'A': 'E91E63',
                'R': 'FFFFFF', 'T': '9C27B0', 'J': '000000', 'B': 'FF9800',
                'P': '3F51B5', 'I': '009688', 'N': 'FFC107', 'D': '795548'
            };

            const bgColor = colors[firstLetter] || 'ffd700';
            const textColor = ['FFFFFF', 'FFC107', 'FFEB3B'].includes(bgColor) ? '000000' : 'FFFFFF';

            return `https://via.placeholder.com/100x100/${bgColor}/${textColor}?text=${firstLetter}`;
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ID Ø§Ù„Ù†Ø§Ø¯ÙŠ (ØªÙ‚Ø¯ÙŠØ± ØªÙ‚Ø±ÙŠØ¨ÙŠ)
        function getClubId(clubName) {
            const clubIds = {
                'Liverpool FC': '31',
                'Chelsea FC': '631',
                'Manchester United': '985',
                'Manchester City': '281',
                'Arsenal FC': '11',
                'Tottenham Hotspur': '148',
                'Real Madrid': '418',
                'FC Barcelona': '131',
                'AtlÃ©tico de Madrid': '13',
                'Juventus FC': '506',
                'AC Milan': '5',
                'Inter Milan': '46',
                'Bayern Munich': '27',
                'Borussia Dortmund': '16',
                'Bayer 04 Leverkusen': '15',
                'Paris Saint-Germain': '583'
            };

            return clubIds[clubName] || Math.floor(Math.random() * 1000);
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù…ØªØ·ÙˆØ±
        async function fetchLatestData() {
            const loadingSection = document.getElementById('loadingSection');
            const errorSection = document.getElementById('errorSection');
            const updateBtn = document.querySelector('.update-btn');

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø±Ø³Ø§Ù„Ø© ØªÙØµÙŠÙ„ÙŠØ©
            loadingSection.style.display = 'block';
            errorSection.style.display = 'none';
            updateBtn.disabled = true;
            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...';

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgress(0, 'Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ«...');

            try {
                // Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø§ØªØµØ§Ù„
                updateProgress(20, 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Transfermarkt...');
                await new Promise(resolve => setTimeout(resolve, 500));

                // Ù…Ø±Ø­Ù„Ø© 2: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†
                updateProgress(40, 'Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†...');
                let response = null;

                try {
                    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù† Ø£ÙˆÙ„Ø§Ù‹
                    const enhancedResponse = await fetch('/api/transfermarkt/enhanced-extract', {
                        method: 'GET',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json'
                        }
                    });

                    if (enhancedResponse.ok) {
                        const enhancedResult = await enhancedResponse.json();
                        if (enhancedResult.success && enhancedResult.data && enhancedResult.data.length > 0) {
                            response = enhancedResult.data;
                            console.log('âœ… ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù† Ø¨Ù†Ø¬Ø§Ø­');
                            updateProgress(50, 'ØªÙ… Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†...');
                        }
                    }
                } catch (enhancedError) {
                    console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†ØŒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ:', enhancedError);
                }

                // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ
                if (!response) {
                    updateProgress(45, 'Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ...');
                    response = await fetchTransfermarktData();
                }

                if (response && response.length > 0) {
                    // Ù…Ø±Ø­Ù„Ø© 3: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    updateProgress(60, 'Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                    await new Promise(resolve => setTimeout(resolve, 300));

                    currentData = response.slice(0, 10); // Ø£Ø®Ø° Ø£ÙˆÙ„ 10 Ø£Ù†Ø¯ÙŠØ©

                    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    currentData = currentData.map((club, index) => ({
                        ...club,
                        rank: index + 1,
                        lastUpdated: new Date().toISOString(),
                        dataSource: club.dataSource || 'transfermarkt-enhanced'
                    }));

                    // Ù…Ø±Ø­Ù„Ø© 4: Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    updateProgress(80, 'Ø¬Ø§Ø±ÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                    await new Promise(resolve => setTimeout(resolve, 300));

                    displayClubs(currentData);
                    updateLastUpdatedTime();

                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
                    updateTotals(currentData);

                    // Ù…Ø±Ø­Ù„Ø© 5: Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    updateProgress(90, 'Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');

                    const dataToSave = {
                        clubs: currentData,
                        lastUpdate: new Date().toISOString(),
                        source: 'transfermarkt-live',
                        season: '2024/2025',
                        totalClubs: currentData.length
                    };

                    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø·Ø±Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ©
                    try {
                        localStorage.setItem('transfermarktData', JSON.stringify(currentData));
                        localStorage.setItem('transfermarktDataFull', JSON.stringify(dataToSave));
                        localStorage.setItem('transfermarktLastUpdate', new Date().toISOString());

                        // Ø­ÙØ¸ Ø¥Ø¶Ø§ÙÙŠ ÙÙŠ sessionStorage
                        sessionStorage.setItem('transfermarktData', JSON.stringify(currentData));
                        sessionStorage.setItem('transfermarktLastUpdate', new Date().toISOString());

                        // Ø­ÙØ¸ ÙÙŠ IndexedDB Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ØªØ¯Ø¹Ù…Ù‡
                        if ('indexedDB' in window) {
                            saveToIndexedDB('transfermarktData', currentData);
                        }

                        console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø²Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©');
                    } catch (storageError) {
                        console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', storageError);
                        // Ø­ÙØ¸ ÙÙŠ Ù…ØªØºÙŠØ± Ø¹Ø§Ù… ÙƒØ¨Ø¯ÙŠÙ„
                        window.transfermarktBackupData = currentData;
                    }

                    // Ù…Ø±Ø­Ù„Ø© 6: Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«
                    updateProgress(100, 'ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­!');
                    await new Promise(resolve => setTimeout(resolve, 500));

                    // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¬Ø§Ø­
                    showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ Ù…Ù† Transfermarkt!', 'success');

                    // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙØªÙˆØ­Ø©
                    broadcastDataUpdate(currentData);

                } else {
                    throw new Error('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø© Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ');
                }

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);

                // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„Ø®Ø·Ø£
                updateProgress(50, 'Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©...');
                await new Promise(resolve => setTimeout(resolve, 500));

                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                const enhancedData = getEnhancedDefaultData();
                currentData = enhancedData;

                updateProgress(80, 'Ø¬Ø§Ø±ÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©...');
                await new Promise(resolve => setTimeout(resolve, 300));

                displayClubs(currentData);
                updateLastUpdatedTime();

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
                const dataToSave = {
                    clubs: currentData,
                    lastUpdate: new Date().toISOString(),
                    source: 'enhanced-default',
                    season: '2024/2025',
                    totalClubs: currentData.length
                };

                localStorage.setItem('transfermarktData', JSON.stringify(currentData));
                localStorage.setItem('transfermarktDataFull', JSON.stringify(dataToSave));
                localStorage.setItem('transfermarktLastUpdate', new Date().toISOString());

                updateProgress(100, 'ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');
                await new Promise(resolve => setTimeout(resolve, 500));

                // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ­Ø°ÙŠØ±ÙŠØ©
                showNotification('ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©', 'warning');
                errorSection.style.display = 'block';
                errorSection.innerHTML = `
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Ù„Ù… ÙŠØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©. ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©.</p>
                    <small>Ø³ÙŠØªÙ… Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ù„ÙŠ</small>
                `;

            } finally {
                // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
                setTimeout(() => {
                    loadingSection.style.display = 'none';
                }, 1000);

                updateBtn.disabled = false;
                updateBtn.innerHTML = '<i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¢Ù†';
            }
        }

        // Ø¨Ø« ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
        function broadcastDataUpdate(data) {
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… BroadcastChannel Ù„Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
            if ('BroadcastChannel' in window) {
                const channel = new BroadcastChannel('transfermarkt-updates');
                channel.postMessage({
                    type: 'data-update',
                    data: data,
                    timestamp: new Date().toISOString()
                });
            }

            // Ø§Ø³ØªØ®Ø¯Ø§Ù… localStorage events ÙƒØ¨Ø¯ÙŠÙ„
            localStorage.setItem('transfermarkt-broadcast', JSON.stringify({
                type: 'data-update',
                data: data,
                timestamp: new Date().toISOString()
            }));
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Transfermarkt Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù…ØªØ·ÙˆØ±
        async function fetchTransfermarktData() {
            const proxies = [
                'https://api.allorigins.win/get?url=',
                'https://cors-anywhere.herokuapp.com/',
                'https://thingproxy.freeboard.io/fetch/',
                'https://api.codetabs.com/v1/proxy?quest='
            ];

            const targetUrl = 'https://www.transfermarkt.com/transfers/einnahmenausgaben/statistik/plus/0?ids=a&sa=&saison_id=2025&saison_id_bis=2025&land_id=&nat=&kontinent_id=&pos=&altersklasse=&w_s=&leihe=&intern=0&plus=0';

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ø¯Ø© Ø·Ø±Ù‚
            for (let i = 0; i < proxies.length; i++) {
                try {
                    console.log(`Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ${i + 1}...`);

                    let response, data;

                    if (i === 0) {
                        // AllOrigins
                        response = await fetch(proxies[i] + encodeURIComponent(targetUrl), {
                            headers: {
                                'Accept': 'application/json',
                                'Content-Type': 'application/json'
                            }
                        });
                        data = await response.json();
                        if (data.contents) {
                            const parsed = parseTransfermarktHTML(data.contents);
                            if (parsed && parsed.length > 0) return parsed;
                        }
                    } else if (i === 1) {
                        // CORS Anywhere
                        response = await fetch(proxies[i] + targetUrl, {
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest'
                            }
                        });
                        if (response.ok) {
                            const html = await response.text();
                            const parsed = parseTransfermarktHTML(html);
                            if (parsed && parsed.length > 0) return parsed;
                        }
                    } else {
                        // Other proxies
                        response = await fetch(proxies[i] + encodeURIComponent(targetUrl));
                        if (response.ok) {
                            const html = await response.text();
                            const parsed = parseTransfermarktHTML(html);
                            if (parsed && parsed.length > 0) return parsed;
                        }
                    }
                } catch (error) {
                    console.log(`ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ${i + 1}:`, error.message);
                    continue;
                }
            }

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø¨Ø¯ÙŠÙ„Ø©
            try {
                console.log('Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø¨Ø¯ÙŠÙ„Ø©...');
                return await fetchAlternativeData();
            } catch (error) {
                console.log('ÙØ´Ù„ ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©');
            }

            // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙˆØ§Ù„Ù…Ø­Ø³Ù†Ø©
            console.log('ğŸ”„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†Ø©...');
            return getEnhancedDefaultData();
                {
                    rank: 4,
                    name: "Manchester United",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/985.png",
                    expenditure: "â‚¬153.20m",
                    arrivals: 11,
                    income: "â‚¬0.00m",
                    departures: 6,
                    balance: "â‚¬-153.20m"
                },
                {
                    rank: 5,
                    name: "Manchester City",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/281.png",
                    expenditure: "â‚¬145.70m",
                    arrivals: 12,
                    income: "â‚¬33.00m",
                    departures: 6,
                    balance: "â‚¬-112.70m"
                },
                {
                    rank: 6,
                    name: "Arsenal FC",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/11.png",
                    expenditure: "â‚¬142.80m",
                    arrivals: 10,
                    income: "â‚¬8.00m",
                    departures: 8,
                    balance: "â‚¬-134.80m"
                },
                {
                    rank: 7,
                    name: "Tottenham Hotspur",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/148.png",
                    expenditure: "â‚¬140.60m",
                    arrivals: 12,
                    income: "â‚¬13.50m",
                    departures: 8,
                    balance: "â‚¬-127.10m"
                },
                {
                    rank: 8,
                    name: "AtlÃ©tico de Madrid",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/13.png",
                    expenditure: "â‚¬123.00m",
                    arrivals: 11,
                    income: "â‚¬36.00m",
                    departures: 10,
                    balance: "â‚¬-87.00m"
                },
                {
                    rank: 9,
                    name: "Juventus FC",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/506.png",
                    expenditure: "â‚¬105.90m",
                    arrivals: 18,
                    income: "â‚¬48.00m",
                    departures: 13,
                    balance: "â‚¬-57.90m"
                },
                {
                    rank: 10,
                    name: "Bayer 04 Leverkusen",
                    logo: "https://tmssl.akamaized.net/images/wappen/tiny/15.png",
                    expenditure: "â‚¬101.75m",
                    arrivals: 13,
                    income: "â‚¬190.50m",
                    departures: 13,
                    balance: "â‚¬88.75m"
                }
            ];
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø¨Ø¯ÙŠÙ„Ø©
        async function fetchAlternativeData() {
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† API Ø¨Ø¯ÙŠÙ„ Ø£Ùˆ Ù…ØµØ§Ø¯Ø± Ø£Ø®Ø±Ù‰
            const alternativeSources = [
                'https://api.football-data.org/v4/competitions',
                'https://api.sportmonks.com/v3/football',
                // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…ØµØ§Ø¯Ø± Ø£Ø®Ø±Ù‰ Ù‡Ù†Ø§
            ];

            // ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªÙˆÙØ± Ù…ØµØ§Ø¯Ø± Ø¨Ø¯ÙŠÙ„Ø©ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
            return getEnhancedDefaultData();
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø­Ø³Ù†Ø© ÙˆÙ…Ø­Ø¯Ø«Ø© Ù…Ø¹ Ø£Ø³Ù…Ø§Ø¡ Ø¹Ø±Ø¨ÙŠØ©
        function getEnhancedDefaultData() {
            const currentDate = new Date();
            const seasonStart = new Date('2024-07-01');
            const daysSinceStart = Math.floor((currentDate - seasonStart) / (1000 * 60 * 60 * 24));

            // Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø¯Ø«Ø© ÙˆÙ…ØªØºÙŠØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª Ù…Ø¹ Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø­Ø³Ù†Ø© ÙˆØ£Ø³Ù…Ø§Ø¡ Ø¹Ø±Ø¨ÙŠØ©
            const baseData = [
                {
                    rank: 1,
                    name: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„",
                    englishName: "Liverpool FC",
                    logo: "https://logos-world.net/wp-content/uploads/2020/06/Liverpool-Logo.png",
                    logoFallback: "https://tmssl.akamaized.net/images/wappen/head/31.png",
                    expenditure: "â‚¬308.68m",
                    arrivals: 13 + Math.floor(daysSinceStart / 30),
                    income: "â‚¬63.30m",
                    departures: 6 + Math.floor(daysSinceStart / 45),
                    balance: "â‚¬-245.38m",
                    league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø²"
                },
                {
                    rank: 2,
                    name: "ØªØ´ÙŠÙ„Ø³ÙŠ",
                    englishName: "Chelsea FC",
                    logo: "https://logos-world.net/wp-content/uploads/2020/06/Chelsea-Logo.png",
                    logoFallback: "https://tmssl.akamaized.net/images/wappen/head/631.png",
                    expenditure: "â‚¬243.77m",
                    arrivals: 22 + Math.floor(daysSinceStart / 25),
                    income: "â‚¬121.48m",
                    departures: 8 + Math.floor(daysSinceStart / 40),
                    balance: "â‚¬-122.29m",
                    league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø§Ù„Ù…Ù…ØªØ§Ø²"
                },
                {
                    rank: 3,
                    name: "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯",
                    englishName: "Real Madrid",
                    logo: "https://logos-world.net/wp-content/uploads/2020/06/Real-Madrid-Logo.png",
                    logoFallback: "https://tmssl.akamaized.net/images/wappen/head/418.png",
                    expenditure: "â‚¬167.50m",
                    arrivals: 7 + Math.floor(daysSinceStart / 35),
                    income: "â‚¬2.00m",
                    departures: 4 + Math.floor(daysSinceStart / 50),
                    balance: "â‚¬-165.50m",
                    league: "Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ"
                },
                {
                    rank: 4,
                    name: "Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯",
                    englishName: "Manchester United",
                    logo: ClubLogoManager.getClubLogo("Manchester United").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Manchester United").fallback,
                    expenditure: "â‚¬153.20m",
                    arrivals: 11 + Math.floor(daysSinceStart / 28),
                    income: "â‚¬0.00m",
                    departures: 6 + Math.floor(daysSinceStart / 42),
                    balance: "â‚¬-153.20m",
                    league: ClubLogoManager.getClubLogo("Manchester United").league
                },
                {
                    rank: 5,
                    name: "Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ",
                    englishName: "Manchester City",
                    logo: ClubLogoManager.getClubLogo("Manchester City").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Manchester City").fallback,
                    expenditure: "â‚¬145.70m",
                    arrivals: 12 + Math.floor(daysSinceStart / 32),
                    income: "â‚¬33.00m",
                    departures: 6 + Math.floor(daysSinceStart / 38),
                    balance: "â‚¬-112.70m",
                    league: ClubLogoManager.getClubLogo("Manchester City").league
                },
                {
                    rank: 6,
                    name: "Ø¢Ø±Ø³Ù†Ø§Ù„",
                    englishName: "Arsenal FC",
                    logo: ClubLogoManager.getClubLogo("Arsenal FC").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Arsenal FC").fallback,
                    expenditure: "â‚¬142.80m",
                    arrivals: 10 + Math.floor(daysSinceStart / 30),
                    income: "â‚¬8.00m",
                    departures: 8 + Math.floor(daysSinceStart / 35),
                    balance: "â‚¬-134.80m",
                    league: ClubLogoManager.getClubLogo("Arsenal FC").league
                },
                {
                    rank: 7,
                    name: "ØªÙˆØªÙ†Ù‡Ø§Ù…",
                    englishName: "Tottenham Hotspur",
                    logo: ClubLogoManager.getClubLogo("Tottenham Hotspur").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Tottenham Hotspur").fallback,
                    expenditure: "â‚¬140.60m",
                    arrivals: 12 + Math.floor(daysSinceStart / 26),
                    income: "â‚¬13.50m",
                    departures: 8 + Math.floor(daysSinceStart / 33),
                    balance: "â‚¬-127.10m",
                    league: ClubLogoManager.getClubLogo("Tottenham Hotspur").league
                },
                {
                    rank: 8,
                    name: "Ø£ØªÙ„ØªÙŠÙƒÙˆ Ù…Ø¯Ø±ÙŠØ¯",
                    englishName: "AtlÃ©tico de Madrid",
                    logo: ClubLogoManager.getClubLogo("AtlÃ©tico de Madrid").primary,
                    logoFallback: ClubLogoManager.getClubLogo("AtlÃ©tico de Madrid").fallback,
                    expenditure: "â‚¬123.00m",
                    arrivals: 11 + Math.floor(daysSinceStart / 29),
                    income: "â‚¬36.00m",
                    departures: 10 + Math.floor(daysSinceStart / 31),
                    balance: "â‚¬-87.00m",
                    league: ClubLogoManager.getClubLogo("AtlÃ©tico de Madrid").league
                },
                {
                    rank: 9,
                    name: "ÙŠÙˆÙÙ†ØªÙˆØ³",
                    englishName: "Juventus FC",
                    logo: ClubLogoManager.getClubLogo("Juventus FC").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Juventus FC").fallback,
                    expenditure: "â‚¬105.90m",
                    arrivals: 18 + Math.floor(daysSinceStart / 24),
                    income: "â‚¬48.00m",
                    departures: 13 + Math.floor(daysSinceStart / 27),
                    balance: "â‚¬-57.90m",
                    league: ClubLogoManager.getClubLogo("Juventus FC").league
                },
                {
                    rank: 10,
                    name: "Ø¨Ø§ÙŠØ± Ù„ÙŠÙØ±ÙƒÙˆØ²Ù†",
                    englishName: "Bayer 04 Leverkusen",
                    logo: ClubLogoManager.getClubLogo("Bayer 04 Leverkusen").primary,
                    logoFallback: ClubLogoManager.getClubLogo("Bayer 04 Leverkusen").fallback,
                    expenditure: "â‚¬101.75m",
                    arrivals: 13 + Math.floor(daysSinceStart / 34),
                    income: "â‚¬190.50m",
                    departures: 13 + Math.floor(daysSinceStart / 29),
                    balance: "â‚¬88.75m",
                    league: ClubLogoManager.getClubLogo("Bayer 04 Leverkusen").league
                }
            ];

            return baseData;
        }

        // ØªØ­Ù„ÙŠÙ„ HTML Ù…Ù† Transfermarkt Ù…Ø­Ø³Ù† - ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª ÙÙ‚Ø·
        function parseTransfermarktHTML(html) {
            try {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø·Ø±Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆÙ…Ø­Ø³Ù†Ø©
                let table = doc.querySelector('table.items') ||
                           doc.querySelector('.responsive-table table') ||
                           doc.querySelector('table[class*="transfer"]') ||
                           doc.querySelector('table[class*="einnahmen"]') ||
                           doc.querySelector('table[class*="ausgaben"]') ||
                           doc.querySelector('table tbody')?.parentElement;

                if (!table) {
                    console.log('âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„');
                    return null;
                }

                console.log('âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„ØŒ Ø¨Ø¯Ø¡ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                const rows = table.querySelectorAll('tbody tr');
                const clubs = [];

                // ØªØ­Ù„ÙŠÙ„ Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const headerRow = table.querySelector('thead tr') || table.querySelector('tr');
                const columnMapping = analyzeTableHeaders(headerRow);
                console.log('ğŸ“‹ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©:', columnMapping);

                rows.forEach((row, index) => {
                    if (index >= 10) return; // Ø£Ø®Ø° Ø£ÙˆÙ„ 10 Ø£Ù†Ø¯ÙŠØ© ÙÙ‚Ø·

                    const cells = row.querySelectorAll('td');
                    if (cells.length >= 3) { // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø£Ø¹Ù…Ø¯Ø©
                        try {
                            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø­Ø³Ù†Ø©
                            const clubName = extractClubName(cells, index);
                            if (!clubName) return;

                            console.log(`ğŸŸï¸ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ø§Ø¯ÙŠ: "${clubName}" (Ø§Ù„ØµÙ ${index + 1})`);

                            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø´Ø¹Ø§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªØ·ÙˆØ±
                            const logoUrl = extractClubLogo(cells, clubName);

                            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙ‚Ø· (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆÙ…ØµØ±ÙˆÙØ§Øª)
                            const financialData = extractFinancialData(cells, columnMapping, clubName);

                            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ
                            const league = determineLeague(clubName);
                            const logoData = ClubLogoManager.getClubLogo(clubName);

                            clubs.push({
                                rank: index + 1,
                                name: clubName,
                                englishName: clubName, // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹
                                logo: logoUrl,
                                logoFallback: logoData.fallback,
                                expenditure: financialData.expenditure,
                                income: financialData.income,
                                balance: financialData.balance,
                                league: logoData.league || league,
                                lastUpdated: new Date().toISOString(),
                                dataSource: 'transfermarkt-live'
                            });

                            console.log(`âœ… ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª ${clubName}:`, {
                                expenditure: financialData.expenditure,
                                income: financialData.income,
                                balance: financialData.balance
                            });

                        } catch (cellError) {
                            console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙ ${index + 1}:`, cellError);
                        }
                    }
                });

                if (clubs.length > 0) {
                    console.log('ğŸ“Š ØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­:', clubs.length, 'Ù†Ø§Ø¯ÙŠ');

                    // ÙØ±Ø² Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ø§Ù„ÙØ¹Ù„ÙŠ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ØµÙ„ÙŠ)
                    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØªØ±ØªÙŠØ¨ ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØµØ­ÙŠØ­ØŒ Ù†Ø­Ø§ÙØ¸ Ø¹Ù„ÙŠÙ‡
                    const sortedClubs = clubs.sort((a, b) => {
                        const expenditureA = parseFloat(a.expenditure.replace(/[^0-9.-]/g, '')) || 0;
                        const expenditureB = parseFloat(b.expenditure.replace(/[^0-9.-]/g, '')) || 0;
                        return expenditureB - expenditureA; // ØªØ±ØªÙŠØ¨ ØªÙ†Ø§Ø²Ù„ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ø¥Ù†ÙØ§Ù‚
                    });

                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±Ù‚ÙŠÙ… Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ±Ø²
                    const finalClubs = sortedClubs.map((club, index) => ({
                        ...club,
                        rank: index + 1
                    }));

                    console.log('ğŸ¯ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø£Ù†Ø¯ÙŠØ©:');
                    finalClubs.forEach(club => {
                        console.log(`${club.rank}. ${club.name} - ${club.expenditure}`);
                    });

                    return finalClubs;

                } else {
                    console.log('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª');
                    return null;
                }

            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ HTML:', error);
                return null;
            }
        }

        // ØªØ­Ù„ÙŠÙ„ Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function analyzeTableHeaders(headerRow) {
            const mapping = {
                club: 1, // Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø¹Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠ
                expenditure: -1,
                income: -1,
                balance: -1
            };

            if (!headerRow) return mapping;

            const headers = headerRow.querySelectorAll('th, td');
            headers.forEach((header, index) => {
                const text = header.textContent?.toLowerCase().trim() || '';

                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚/Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
                if (text.includes('ausgaben') || text.includes('expenditure') ||
                    text.includes('spent') || text.includes('ØµØ±Ù') || text.includes('Ø¥Ù†ÙØ§Ù‚')) {
                    mapping.expenditure = index;
                }
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
                else if (text.includes('einnahmen') || text.includes('income') ||
                         text.includes('revenue') || text.includes('Ø¥ÙŠØ±Ø§Ø¯Ø§Øª') || text.includes('Ø¯Ø®Ù„')) {
                    mapping.income = index;
                }
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
                else if (text.includes('bilanz') || text.includes('balance') ||
                         text.includes('Ù…ÙŠØ²Ø§Ù†ÙŠØ©') || text.includes('ØµØ§ÙÙŠ')) {
                    mapping.balance = index;
                }
            });

            return mapping;
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø­Ø³Ù†Ø©
        function extractClubName(cells, index) {
            let clubName = '';

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¹Ø¯Ø© Ø£Ù…Ø§ÙƒÙ† Ù…Ø­ØªÙ…Ù„Ø© Ù„Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ
            const nameSelectors = [
                'a[title]', // Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
                '.hauptlink', // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
                'a', // Ø£ÙŠ Ø±Ø§Ø¨Ø·
                '.vereinsname', // Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ
                'img[alt]' // Ù†Øµ Ø¨Ø¯ÙŠÙ„ Ù„Ù„ØµÙˆØ±Ø©
            ];

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø£ÙˆÙ„Ø§Ù‹ (Ø¹Ø§Ø¯Ø© Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù†Ø§Ø¯ÙŠ)
            for (const selector of nameSelectors) {
                const element = cells[1]?.querySelector(selector) || cells[0]?.querySelector(selector);
                if (element) {
                    if (selector === 'img[alt]') {
                        clubName = element.getAttribute('alt')?.trim();
                    } else if (element.hasAttribute('title')) {
                        clubName = element.getAttribute('title')?.trim();
                    } else {
                        clubName = element.textContent?.trim();
                    }

                    if (clubName && clubName.length > 2 && !clubName.includes('undefined')) {
                        break;
                    }
                }
            }

            // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø§Ø³Ù… ØµØ­ÙŠØ­ØŒ Ù†Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø±Ø§Ø¬Ù‡ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„ÙƒØ§Ù…Ù„
            if (!clubName || clubName.length < 3) {
                const fullText = cells[1]?.textContent?.trim() || cells[0]?.textContent?.trim();
                clubName = fullText?.split('\n')[0]?.split('\t')[0]?.trim();
            }

            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ø³Ù… ØµØ­ÙŠØ­
            if (!clubName || clubName.length < 3 || clubName.includes('undefined')) {
                console.warn(`âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ø³Ù… ØµØ­ÙŠØ­ Ù„Ù„Ù†Ø§Ø¯ÙŠ ÙÙŠ Ø§Ù„ØµÙ ${index + 1}`);
                return null;
            }

            return clubName;
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ
        function extractClubLogo(cells, clubName) {
            const logoImg = cells[1]?.querySelector('img') || cells[0]?.querySelector('img');
            let originalLogoUrl = logoImg?.src || logoImg?.getAttribute('data-src');

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø§Ø± Ù…Ù† Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
            const logoData = ClubLogoManager.getClubLogo(clubName);
            let logoUrl = logoData.primary;

            // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¬Ø¯ Ø´Ø¹Ø§Ø± Ù…Ø®ØµØµØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ø­Ø³Ù†Ø§Ù‹
            if (!logoData.primary.includes('footyrenders') && originalLogoUrl) {
                if (originalLogoUrl.includes('tiny')) {
                    logoUrl = originalLogoUrl.replace('tiny', 'head');
                } else {
                    logoUrl = originalLogoUrl;
                }
            }

            return logoUrl || logoData.fallback;
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆÙ…ØµØ±ÙˆÙØ§Øª ÙÙ‚Ø·)
        function extractFinancialData(cells, columnMapping, clubName) {
            let expenditure = 'â‚¬0.00m';
            let income = 'â‚¬0.00m';
            let balance = 'â‚¬0.00m';

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙ†Ø§ ØªØ­Ø¯ÙŠØ¯ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ø£Ø¹Ù…Ø¯Ø©
            if (columnMapping.expenditure >= 0 && cells[columnMapping.expenditure]) {
                expenditure = cleanFinancialValue(cells[columnMapping.expenditure].textContent);
            }
            if (columnMapping.income >= 0 && cells[columnMapping.income]) {
                income = cleanFinancialValue(cells[columnMapping.income].textContent);
            }
            if (columnMapping.balance >= 0 && cells[columnMapping.balance]) {
                balance = cleanFinancialValue(cells[columnMapping.balance].textContent);
            }

            // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù†Ø¨Ø­Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            if (expenditure === 'â‚¬0.00m' || income === 'â‚¬0.00m') {
                const autoExtracted = autoExtractFinancialData(cells);
                if (expenditure === 'â‚¬0.00m') expenditure = autoExtracted.expenditure;
                if (income === 'â‚¬0.00m') income = autoExtracted.income;
                if (balance === 'â‚¬0.00m') balance = autoExtracted.balance;
            }

            return { expenditure, income, balance };
        }

        // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø§Ù„ÙŠØ©
        function cleanFinancialValue(text) {
            if (!text) return 'â‚¬0.00m';

            const cleaned = text.trim();

            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ â‚¬ Ùˆ m ÙÙ‡ÙŠ Ù‚ÙŠÙ…Ø© Ù…Ø§Ù„ÙŠØ©
            if (cleaned.includes('â‚¬') && (cleaned.includes('m') || cleaned.includes('M'))) {
                return cleaned;
            }

            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø±Ù‚Ù… ÙÙ‚Ø·ØŒ Ù†Ø¶ÙŠÙ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
            const numericValue = parseFloat(cleaned.replace(/[^0-9.-]/g, ''));
            if (!isNaN(numericValue) && numericValue > 0) {
                return `â‚¬${numericValue.toFixed(2)}m`;
            }

            return 'â‚¬0.00m';
        }

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
        function autoExtractFinancialData(cells) {
            let expenditure = 'â‚¬0.00m';
            let income = 'â‚¬0.00m';
            let balance = 'â‚¬0.00m';

            const financialValues = [];

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø¹Ù† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            for (let i = 2; i < cells.length; i++) {
                const cellText = cells[i]?.textContent?.trim() || '';

                if (cellText.includes('â‚¬') && (cellText.includes('m') || cellText.includes('M'))) {
                    const numericValue = parseFloat(cellText.replace(/[^0-9.-]/g, ''));
                    if (!isNaN(numericValue)) {
                        financialValues.push({
                            text: cellText,
                            value: numericValue,
                            index: i,
                            isNegative: cellText.includes('-')
                        });
                    }
                }
            }

            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚ÙŠÙ… Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… (Ø§Ù„Ø£ÙƒØ¨Ø± Ø£ÙˆÙ„Ø§Ù‹)
            financialValues.sort((a, b) => Math.abs(b.value) - Math.abs(a.value));

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ (Ø¹Ø§Ø¯Ø© Ø£ÙƒØ¨Ø± Ù‚ÙŠÙ…Ø© Ù…ÙˆØ¬Ø¨Ø©)
            const expenditureValue = financialValues.find(v => !v.isNegative && v.value > 0);
            if (expenditureValue) {
                expenditure = expenditureValue.text;
            }

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ø«Ø§Ù†ÙŠ Ø£ÙƒØ¨Ø± Ù‚ÙŠÙ…Ø© Ù…ÙˆØ¬Ø¨Ø© Ø£Ùˆ Ù‚ÙŠÙ…Ø© Ø£ØµØºØ±)
            const incomeValue = financialValues.find(v => !v.isNegative && v.value > 0 && v !== expenditureValue);
            if (incomeValue) {
                income = incomeValue.text;
            }

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© (Ù‚ÙŠÙ…Ø© Ø³Ø§Ù„Ø¨Ø© Ø£Ùˆ Ø¢Ø®Ø± Ù‚ÙŠÙ…Ø©)
            const balanceValue = financialValues.find(v => v.isNegative) || financialValues[financialValues.length - 1];
            if (balanceValue) {
                balance = balanceValue.text;
            }

            return { expenditure, income, balance };
        }

        // Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ·ÙˆØ± Ù…Ø¹ Ø±Ø¨Ø· club-logo-manager
        const ClubLogoManager = window.SmartLogoSystem || {
            // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© (Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©)
            localLogoDatabase: {
                // Premier League
                'Liverpool FC': {
                    logo: 'https://logos.footyrenders.com/liverpool-fc/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/31.png',
                    league: 'Premier League',
                    aliases: ['Liverpool', 'LFC', 'The Reds']
                },
                'Chelsea FC': {
                    logo: 'https://logos.footyrenders.com/chelsea-fc/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/631.png',
                    league: 'Premier League',
                    aliases: ['Chelsea', 'CFC', 'The Blues']
                },
                'Manchester United': {
                    logo: 'https://logos.footyrenders.com/manchester-united/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/985.png',
                    league: 'Premier League',
                    aliases: ['Man United', 'MUFC', 'United', 'Manchester Utd']
                },
                'Manchester City': {
                    logo: 'https://logos.footyrenders.com/manchester-city/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/281.png',
                    league: 'Premier League',
                    aliases: ['Man City', 'MCFC', 'City']
                },
                'Arsenal FC': {
                    logo: 'https://logos.footyrenders.com/arsenal/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/11.png',
                    league: 'Premier League',
                    aliases: ['Arsenal', 'AFC', 'The Gunners']
                },
                'Tottenham Hotspur': {
                    logo: 'https://logos.footyrenders.com/tottenham-hotspur/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/148.png',
                    league: 'Premier League',
                    aliases: ['Tottenham', 'Spurs', 'THFC']
                },

                // LaLiga
                'Real Madrid': {
                    logo: 'https://logos.footyrenders.com/real-madrid/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/418.png',
                    league: 'LaLiga',
                    aliases: ['Real Madrid CF', 'Madrid', 'Los Blancos']
                },
                'FC Barcelona': {
                    logo: 'https://logos.footyrenders.com/fc-barcelona/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/131.png',
                    league: 'LaLiga',
                    aliases: ['Barcelona', 'BarÃ§a', 'FCB', 'Barca']
                },
                'AtlÃ©tico de Madrid': {
                    logo: 'https://logos.footyrenders.com/atletico-madrid/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/13.png',
                    league: 'LaLiga',
                    aliases: ['Atletico Madrid', 'AtlÃ©tico', 'Atletico']
                },

                // Serie A
                'Juventus FC': {
                    logo: 'https://logos.footyrenders.com/juventus/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/506.png',
                    league: 'Serie A',
                    aliases: ['Juventus', 'Juve', 'La Vecchia Signora']
                },
                'AC Milan': {
                    logo: 'https://logos.footyrenders.com/ac-milan/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/5.png',
                    league: 'Serie A',
                    aliases: ['Milan', 'ACM', 'Rossoneri']
                },
                'Inter Milan': {
                    logo: 'https://logos.footyrenders.com/inter-milan/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/46.png',
                    league: 'Serie A',
                    aliases: ['Inter', 'Internazionale', 'Nerazzurri']
                },

                // Bundesliga
                'Bayern Munich': {
                    logo: 'https://logos.footyrenders.com/bayern-munich/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/27.png',
                    league: 'Bundesliga',
                    aliases: ['Bayern', 'FC Bayern', 'FCB']
                },
                'Borussia Dortmund': {
                    logo: 'https://logos.footyrenders.com/borussia-dortmund/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/16.png',
                    league: 'Bundesliga',
                    aliases: ['Dortmund', 'BVB', 'Die Schwarzgelben']
                },
                'Bayer 04 Leverkusen': {
                    logo: 'https://logos.footyrenders.com/bayer-leverkusen/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/15.png',
                    league: 'Bundesliga',
                    aliases: ['Leverkusen', 'Bayer', 'Die Werkself']
                },

                // Ligue 1
                'Paris Saint-Germain': {
                    logo: 'https://logos.footyrenders.com/paris-saint-germain/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/583.png',
                    league: 'Ligue 1',
                    aliases: ['PSG', 'Paris SG', 'Les Parisiens']
                },
                'AS Monaco': {
                    logo: 'https://logos.footyrenders.com/as-monaco/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/162.png',
                    league: 'Ligue 1',
                    aliases: ['Monaco', 'ASM']
                },

                // Ø£Ù†Ø¯ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©
                'Newcastle United': {
                    logo: 'https://logos.footyrenders.com/newcastle-united/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/762.png',
                    league: 'Premier League',
                    aliases: ['Newcastle', 'NUFC', 'The Magpies']
                },
                'West Ham United': {
                    logo: 'https://logos.footyrenders.com/west-ham-united/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/379.png',
                    league: 'Premier League',
                    aliases: ['West Ham', 'WHUFC', 'The Hammers']
                },
                'Aston Villa': {
                    logo: 'https://logos.footyrenders.com/aston-villa/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/405.png',
                    league: 'Premier League',
                    aliases: ['Villa', 'AVFC']
                },
                'Brighton & Hove Albion': {
                    logo: 'https://logos.footyrenders.com/brighton-hove-albion/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/1237.png',
                    league: 'Premier League',
                    aliases: ['Brighton', 'BHAFC', 'The Seagulls']
                },
                'Valencia CF': {
                    logo: 'https://logos.footyrenders.com/valencia-cf/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/1049.png',
                    league: 'LaLiga',
                    aliases: ['Valencia', 'VCF']
                },
                'Sevilla FC': {
                    logo: 'https://logos.footyrenders.com/sevilla-fc/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/368.png',
                    league: 'LaLiga',
                    aliases: ['Sevilla', 'SFC']
                },
                'AS Roma': {
                    logo: 'https://logos.footyrenders.com/as-roma/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/12.png',
                    league: 'Serie A',
                    aliases: ['Roma', 'ASR', 'Giallorossi']
                },
                'SSC Napoli': {
                    logo: 'https://logos.footyrenders.com/ssc-napoli/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/6195.png',
                    league: 'Serie A',
                    aliases: ['Napoli', 'SSC Napoli', 'Azzurri']
                },
                'RB Leipzig': {
                    logo: 'https://logos.footyrenders.com/rb-leipzig/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/23826.png',
                    league: 'Bundesliga',
                    aliases: ['Leipzig', 'RBL']
                },
                'Eintracht Frankfurt': {
                    logo: 'https://logos.footyrenders.com/eintracht-frankfurt/',
                    fallback: 'https://tmssl.akamaized.net/images/wappen/head/24.png',
                    league: 'Bundesliga',
                    aliases: ['Frankfurt', 'SGE']
                }
            },

            // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† club-logo-manager
            externalLogoDatabase: {},

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† club-logo-manager
            async loadExternalLogos() {
                try {
                    // ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù„Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©
                    const dataSources = [
                        { key: 'clubManagerData', name: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ' },
                        { key: 'clubsData', name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ù†Ø¯ÙŠØ©' },
                        { key: 'verifiedClubs', name: 'Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ù…ØªØ­Ù‚Ù‚Ø©' }
                    ];

                    let totalLoadedCount = 0;
                    let sourceUsed = '';
                    this.externalLogoDatabase = {};

                    for (const source of dataSources) {
                        const clubData = localStorage.getItem(source.key);
                        if (clubData) {
                            try {
                                const clubs = JSON.parse(clubData);
                                let loadedCount = 0;

                                clubs.forEach(club => {
                                    // Ø¯Ø¹Ù… Ø£Ø´ÙƒØ§Ù„ Ù…Ø®ØªÙ„ÙØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                                    const logoUrl = club.logo || club.logoUrl;
                                    if (logoUrl && logoUrl !== 'N/A' && logoUrl.startsWith('http')) {
                                        // Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØ§ØªÙŠØ­ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ø³Ù†
                                        const keys = [
                                            club.arabicName,
                                            club.englishName,
                                            club.arabicName?.replace(/Ù†Ø§Ø¯ÙŠ|ÙØ±ÙŠÙ‚|ÙƒÙ„ÙˆØ¨/g, '').trim(),
                                            club.englishName?.replace(/FC|CF|United|City|Club/g, '').trim(),
                                            // Ø¥Ø¶Ø§ÙØ© Ø£Ø´ÙƒØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ©
                                            club.englishName + ' FC',
                                            club.englishName + ' CF',
                                            club.englishName?.replace(' FC', ''),
                                            club.englishName?.replace(' CF', ''),
                                            club.englishName?.toLowerCase(),
                                            club.arabicName?.toLowerCase()
                                        ].filter(key => key && key.length > 2);

                                        const logoData = {
                                            logo: logoUrl,
                                            fallback: logoUrl,
                                            league: club.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                                            country: club.country || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                                            arabicName: club.arabicName,
                                            englishName: club.englishName,
                                            aliases: keys,
                                            source: source.key
                                        };

                                        // Ø­ÙØ¸ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ù…ÙƒÙ†Ø©
                                        keys.forEach(key => {
                                            if (key && !this.externalLogoDatabase[key]) {
                                                this.externalLogoDatabase[key] = logoData;
                                            }
                                        });
                                        loadedCount++;
                                    }
                                });

                                if (loadedCount > 0) {
                                    totalLoadedCount = loadedCount;
                                    sourceUsed = source.name;
                                    console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${loadedCount} Ù†Ø§Ø¯ÙŠ Ù…Ù† ${source.name} (${source.key})`);
                                    break; // Ø§Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„ Ù…ØµØ¯Ø± Ù†Ø§Ø¬Ø­
                                }
                            } catch (parseError) {
                                console.error(`Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ ${source.key}:`, parseError);
                            }
                        }
                    }

                    if (totalLoadedCount > 0) {
                        console.log(`ğŸ¯ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…Ù„Ø©: ${Object.keys(this.externalLogoDatabase).length} Ù…Ù† ${sourceUsed}`);
                        return true;
                    } else {
                        console.log('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø£ÙŠ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø±');
                        return false;
                    }
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† club-logo-manager:', error);
                }
                return false;
            },

            // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªØ·ÙˆØ± Ø¹Ù† Ø§Ù„Ù†Ø§Ø¯ÙŠ
            findClub(clubName) {
                if (!clubName) return null;

                const normalizedName = clubName.trim();

                // 1. Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ (club-logo-manager)
                const externalResult = this.searchInExternalDatabase(normalizedName);
                if (externalResult) {
                    return externalResult;
                }

                // 2. Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                const localResult = this.searchInLocalDatabase(normalizedName);
                if (localResult) {
                    return localResult;
                }

                return null;
            },

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
            searchInExternalDatabase(clubName) {
                // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
                if (this.externalLogoDatabase[clubName]) {
                    return this.externalLogoDatabase[clubName];
                }

                // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ
                const searchTerms = [
                    clubName,
                    clubName.replace(/FC|CF|United|City|Club|Ù†Ø§Ø¯ÙŠ|ÙØ±ÙŠÙ‚/g, '').trim(),
                    clubName.replace(/\s+/g, ' ').trim()
                ];

                for (const term of searchTerms) {
                    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…ÙØ§ØªÙŠØ­
                    for (const [key, club] of Object.entries(this.externalLogoDatabase)) {
                        if (this.isMatch(term, key) || this.isMatch(key, term)) {
                            return club;
                        }
                    }

                    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©
                    for (const club of Object.values(this.externalLogoDatabase)) {
                        if (club.aliases && club.aliases.some(alias =>
                            this.isMatch(term, alias) || this.isMatch(alias, term)
                        )) {
                            return club;
                        }
                    }
                }

                return null;
            },

            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            searchInLocalDatabase(clubName) {
                // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
                if (this.localLogoDatabase[clubName]) {
                    return this.localLogoDatabase[clubName];
                }

                // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©
                for (const [key, club] of Object.entries(this.localLogoDatabase)) {
                    if (club.aliases && club.aliases.some(alias =>
                        this.isMatch(clubName, alias) || this.isMatch(alias, clubName)
                    )) {
                        return club;
                    }
                }

                // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¬Ø²Ø¦ÙŠ
                for (const [key, club] of Object.entries(this.localLogoDatabase)) {
                    if (this.isMatch(clubName, key) || this.isMatch(key, clubName)) {
                        return club;
                    }
                }

                return null;
            },

            // Ø¯Ø§Ù„Ø© ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
            isMatch(str1, str2) {
                if (!str1 || !str2) return false;

                const normalize = (str) => str.toLowerCase()
                    .replace(/[^\w\s]/g, '')
                    .replace(/\s+/g, ' ')
                    .trim();

                const norm1 = normalize(str1);
                const norm2 = normalize(str2);

                // ØªØ·Ø§Ø¨Ù‚ ÙƒØ§Ù…Ù„
                if (norm1 === norm2) return true;

                // ØªØ·Ø§Ø¨Ù‚ Ø¬Ø²Ø¦ÙŠ (Ø£Ø­Ø¯Ù‡Ù…Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¢Ø®Ø±)
                if (norm1.includes(norm2) || norm2.includes(norm1)) {
                    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø·ÙˆÙ„ Ù…Ù†Ø§Ø³Ø¨ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ·Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
                    const minLength = Math.min(norm1.length, norm2.length);
                    const maxLength = Math.max(norm1.length, norm2.length);
                    return minLength >= 3 && (minLength / maxLength) >= 0.6;
                }

                return false;
            },

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø­Ø³Ù†
            getClubLogo(clubName) {
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… SmartLogoSystem Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
                if (window.SmartLogoSystem && typeof window.SmartLogoSystem.getClubLogo === 'function') {
                    try {
                        const logoUrl = window.SmartLogoSystem.getClubLogo(clubName);
                        const clubInfo = window.SmartLogoSystem.getClubInfo ? window.SmartLogoSystem.getClubInfo(clubName) : {};
                        return {
                            primary: logoUrl,
                            fallback: logoUrl,
                            league: clubInfo.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                            country: clubInfo.country || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                            source: 'smart-logo-system'
                        };
                    } catch (error) {
                        console.warn('Ø®Ø·Ø£ ÙÙŠ SmartLogoSystem:', error);
                    }
                }

                // Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ ÙƒØ¨Ø¯ÙŠÙ„
                const club = this.findClub(clubName);
                if (club) {
                    return {
                        primary: club.logo,
                        fallback: club.fallback || club.logo,
                        league: club.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        country: club.country || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        source: this.externalLogoDatabase[clubName] ? 'club-logo-manager' : 'local'
                    };
                }

                // Ø´Ø¹Ø§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø£Ù†Ø¯ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©
                return {
                    primary: `https://via.placeholder.com/100x100/1a1a2e/ffd700?text=${clubName.charAt(0)}`,
                    fallback: `https://via.placeholder.com/100x100/1a1a2e/ffd700?text=${clubName.charAt(0)}`,
                    league: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    country: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    source: 'generated'
                };
            },

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ
            determineLeague(clubName) {
                const club = this.findClub(clubName);
                return club ? club.league : 'Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ';
            },

            // Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            addClub(clubName, logoData) {
                this.localLogoDatabase[clubName] = logoData;
                this.saveToLocalStorage();
            },

            // Ø­ÙØ¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙŠ localStorage
            saveToLocalStorage() {
                localStorage.setItem('clubLogoDatabase', JSON.stringify(this.localLogoDatabase));
            },

            // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ù† localStorage
            loadFromLocalStorage() {
                const saved = localStorage.getItem('clubLogoDatabase');
                if (saved) {
                    try {
                        const savedData = JSON.parse(saved);
                        this.localLogoDatabase = { ...this.localLogoDatabase, ...savedData };
                    } catch (error) {
                        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);
                    }
                }
            },

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†
            async initialize() {
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                this.loadFromLocalStorage();

                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† club-logo-manager
                const externalLoaded = await this.loadExternalLogos();

                console.log('ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª');
                console.log(`Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©: ${Object.keys(this.localLogoDatabase).length} Ø¹Ù†ØµØ±`);
                console.log(`Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©: ${Object.keys(this.externalLogoDatabase).length} Ø¹Ù†ØµØ±`);

                if (externalLoaded) {
                    showNotification('ØªÙ… Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ club-logo-manager Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                } else {
                    showNotification('ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©', 'info');
                }

                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ù‚Ø± Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ù„ØªØ­Ø¯ÙŠØ«Ù‡Ø§
                this.setupLogoUpdateListener();

                // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØ­Ø¯ÙŠØ«Ø§Øª club-logo-manager
                this.setupExternalDataMonitoring();
            },

            // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© (Ù…Ø­Ø³Ù† ÙˆÙ…Ø·ÙˆØ±)
            setupExternalDataMonitoring() {
                // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª localStorage Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙØ§ØªÙŠØ­
                window.addEventListener('storage', (e) => {
                    const watchedKeys = ['clubManagerData', 'clubsData', 'verifiedClubs'];
                    if (watchedKeys.includes(e.key)) {
                        console.log(`ğŸ”„ ØªÙ… Ø§ÙƒØªØ´Ø§Ù ØªØ­Ø¯ÙŠØ« ÙÙŠ ${e.key}`);
                        this.loadExternalLogos().then(() => {
                            showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù† ${e.key}`, 'success');
                            // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                            if (currentData && currentData.length > 0) {
                                displayClubs(currentData);
                            }
                        });
                    }
                });

                // ÙØ­Øµ Ø¯ÙˆØ±ÙŠ Ù„Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª (ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©)
                setInterval(() => {
                    this.loadExternalLogos();
                }, 30000);

                // ÙØ­Øµ ÙÙˆØ±ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø§ÙØ°Ø©
                window.addEventListener('focus', () => {
                    this.loadExternalLogos();
                });
            },

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
            setupLogoUpdateListener() {
                document.addEventListener('dblclick', (e) => {
                    if (e.target.classList.contains('club-logo')) {
                        const clubName = e.target.closest('.club-card').querySelector('.club-name').textContent;
                        this.showLogoUpdateModal(clubName);
                    }
                });
            },

            // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø±
            showLogoUpdateModal(clubName) {
                const currentLogo = this.getClubLogo(clubName);

                showAdvancedNotification(
                    `ğŸ¨ ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø± ${clubName}`,
                    `
                    <div style="text-align: right; margin: 1rem 0;">
                        <div style="margin-bottom: 1rem;">
                            <img src="${currentLogo.primary}" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover;" onerror="this.src='${currentLogo.fallback}'">
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯:</label>
                            <input type="url" id="newLogoUrl" placeholder="https://example.com/logo.png" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;">
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø±Ø§Ø¨Ø· Ø§Ø­ØªÙŠØ§Ø·ÙŠ:</label>
                            <input type="url" id="newLogoFallback" placeholder="https://example.com/fallback.png" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;">
                        </div>
                    </div>
                    `,
                    'info',
                    [
                        { text: 'Ø­ÙØ¸', onClick: `ClubLogoManager.updateClubLogo('${clubName}'); closeNotification(this.closest("[id^=advanced-notification]").id)`, primary: true },
                        { text: 'Ø¥Ù„ØºØ§Ø¡', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                    ]
                );
            },

            // ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø­Ø³Ù†
            updateClubLogo(clubName) {
                const newLogoUrl = document.getElementById('newLogoUrl').value;
                const newLogoFallback = document.getElementById('newLogoFallback').value;

                if (newLogoUrl) {
                    const existingClub = this.findClub(clubName) || {};

                    // ØªØ­Ø¯ÙŠØ« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                    this.localLogoDatabase[clubName] = {
                        ...existingClub,
                        logo: newLogoUrl,
                        fallback: newLogoFallback || existingClub.fallback || newLogoUrl,
                        league: existingClub.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        aliases: existingClub.aliases || [],
                        source: 'user-updated'
                    };

                    this.saveToLocalStorage();

                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø©
                    const clubCards = document.querySelectorAll('.club-card');
                    clubCards.forEach(card => {
                        const cardClubName = card.querySelector('.club-name').textContent;
                        if (cardClubName === clubName) {
                            const logoImg = card.querySelector('.club-logo');
                            logoImg.src = newLogoUrl;
                            logoImg.setAttribute('data-fallback', newLogoFallback || newLogoUrl);
                        }
                    });

                    showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø± ${clubName} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');

                    // Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ club-logo-manager
                    setTimeout(() => {
                        showAdvancedNotification(
                            'ğŸ”„ Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ club-logo-manager',
                            'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ club-logo-manager Ø£ÙŠØ¶Ø§Ù‹ØŸ',
                            'info',
                            [
                                { text: 'Ù†Ø¹Ù…ØŒ Ø£Ø¶Ù', onClick: `syncToClubLogoManager('${clubName}', '${newLogoUrl}'); closeNotification(this.closest("[id^=advanced-notification]").id)`, primary: true },
                                { text: 'Ù„Ø§ØŒ Ø´ÙƒØ±Ø§Ù‹', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                            ]
                        );
                    }, 2000);
                } else {
                    showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±', 'error');
                }
            },

            // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø© Ù„Ù„Ø´Ø¹Ø§Ø±Ø§Øª
            getDetailedStats() {
                const localCount = Object.keys(this.localLogoDatabase).length;
                const externalCount = Object.keys(this.externalLogoDatabase).length;
                const totalUnique = new Set([
                    ...Object.keys(this.localLogoDatabase),
                    ...Object.keys(this.externalLogoDatabase)
                ]).size;

                return {
                    local: localCount,
                    external: externalCount,
                    total: totalUnique,
                    coverage: currentData ? Math.round((currentData.filter(club => this.findClub(club.name)).length / currentData.length) * 100) : 0
                };
            }
        };

        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ (Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø©)
        function determineLeague(clubName) {
            return ClubLogoManager.determineLeague(clubName);
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ IndexedDB
        function saveToIndexedDB(key, data) {
            try {
                const request = indexedDB.open('TransfermarktDB', 1);

                request.onupgradeneeded = function(event) {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains('data')) {
                        db.createObjectStore('data', { keyPath: 'key' });
                    }
                };

                request.onsuccess = function(event) {
                    const db = event.target.result;
                    const transaction = db.transaction(['data'], 'readwrite');
                    const store = transaction.objectStore('data');

                    store.put({
                        key: key,
                        value: data,
                        timestamp: new Date().toISOString()
                    });

                    console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ IndexedDB');
                };

                request.onerror = function(event) {
                    console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ IndexedDB:', event.target.error);
                };
            } catch (error) {
                console.warn('âš ï¸ IndexedDB ØºÙŠØ± Ù…ØªØ§Ø­:', error);
            }
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
        function updateLastUpdatedTime() {
            const now = new Date();
            const timeString = now.toLocaleString('ar-SA', {
                year: 'numeric',
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            document.getElementById('lastUpdated').textContent = `Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${timeString}`;
        }

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        let autoUpdateInterval = null;
        let isAutoUpdateEnabled = false;
        let updateCounter = 0;
        let nextUpdateTime = null;

        // ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function toggleAutoUpdate() {
            const btn = document.getElementById('autoUpdateBtn');

            if (isAutoUpdateEnabled) {
                // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                clearInterval(autoUpdateInterval);
                autoUpdateInterval = null;
                isAutoUpdateEnabled = false;
                nextUpdateTime = null;
                btn.innerHTML = '<i class="fas fa-clock"></i> ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
                btn.style.background = 'linear-gradient(45deg, #3b82f6, #2563eb)';
                showNotification('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ', 'info');

                // Ø¥Ø²Ø§Ù„Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
                clearUpdateCountdown();
            } else {
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                const updateInterval = 5 * 60 * 1000; // ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
                autoUpdateInterval = setInterval(() => {
                    updateCounter++;
                    fetchLatestData();
                    showNotification(`Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ #${updateCounter} ØªÙ… Ø¨Ù†Ø¬Ø§Ø­`, 'success');
                }, updateInterval);

                isAutoUpdateEnabled = true;
                nextUpdateTime = new Date(Date.now() + updateInterval);
                btn.innerHTML = '<i class="fas fa-clock"></i> Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
                btn.style.background = 'linear-gradient(45deg, #ef4444, #dc2626)';
                showNotification('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ (ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚)', 'success');

                // Ø¨Ø¯Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
                startUpdateCountdown();
            }
        }

        // Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ù„ÙŠ
        function startUpdateCountdown() {
            const countdownInterval = setInterval(() => {
                if (!isAutoUpdateEnabled) {
                    clearInterval(countdownInterval);
                    return;
                }

                const now = new Date();
                const timeLeft = nextUpdateTime - now;

                if (timeLeft <= 0) {
                    nextUpdateTime = new Date(Date.now() + 5 * 60 * 1000);
                    return;
                }

                const minutes = Math.floor(timeLeft / 60000);
                const seconds = Math.floor((timeLeft % 60000) / 1000);

                const btn = document.getElementById('autoUpdateBtn');
                btn.innerHTML = `<i class="fas fa-clock"></i> Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ù„ÙŠ: ${minutes}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Ø¥Ø²Ø§Ù„Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
        function clearUpdateCountdown() {
            const btn = document.getElementById('autoUpdateBtn');
            if (btn) {
                btn.innerHTML = '<i class="fas fa-clock"></i> ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ';
            }
        }

        // Ù…ØªØºÙŠØ±Ø§Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø°ÙƒÙŠ
        let scheduleSettings = {
            type: 'interval',
            interval: 5,
            specificTimes: ['09:00', '15:00', '21:00'],
            smartUpdate: false,
            offlineMode: false
        };
        let scheduledTimeouts = [];
        let lastDataHash = '';

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
        function showScheduleModal() {
            const modal = document.getElementById('scheduleModal');
            modal.style.display = 'flex';

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            loadScheduleSettings();
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
        function closeScheduleModal() {
            const modal = document.getElementById('scheduleModal');
            modal.style.display = 'none';
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
        function loadScheduleSettings() {
            const saved = localStorage.getItem('scheduleSettings');
            if (saved) {
                scheduleSettings = { ...scheduleSettings, ...JSON.parse(saved) };
            }

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø§ÙØ°Ø©
            document.querySelector(`input[value="${scheduleSettings.type}"]`).checked = true;
            document.getElementById('intervalSelect').value = scheduleSettings.interval;
            document.getElementById('smartUpdate').checked = scheduleSettings.smartUpdate;
            document.getElementById('offlineMode').checked = scheduleSettings.offlineMode;

            scheduleSettings.specificTimes.forEach((time, index) => {
                const timeInput = document.getElementById(`time${index + 1}`);
                if (timeInput) timeInput.value = time;
            });
        }

        // ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
        function applySchedule() {
            // Ø¬Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©
            const scheduleType = document.querySelector('input[name="scheduleType"]:checked').value;
            const interval = parseInt(document.getElementById('intervalSelect').value);
            const smartUpdate = document.getElementById('smartUpdate').checked;
            const offlineMode = document.getElementById('offlineMode').checked;

            const specificTimes = [
                document.getElementById('time1').value,
                document.getElementById('time2').value,
                document.getElementById('time3').value
            ].filter(time => time);

            scheduleSettings = {
                type: scheduleType,
                interval: interval,
                specificTimes: specificTimes,
                smartUpdate: smartUpdate,
                offlineMode: offlineMode
            };

            // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            localStorage.setItem('scheduleSettings', JSON.stringify(scheduleSettings));

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            setupSmartSchedule();

            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
            closeScheduleModal();

            // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¬Ø§Ø­
            showAdvancedNotification(
                'âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø¨Ù†Ø¬Ø§Ø­',
                `ØªÙ… ØªÙØ¹ÙŠÙ„ ${scheduleType === 'interval' ? 'Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯ÙˆØ±ÙŠ' : 'Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©'} Ù…Ø¹ ${smartUpdate ? 'Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø°ÙƒÙŠ' : 'Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø§Ø¯ÙŠ'}`,
                'success'
            );
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø°ÙƒÙŠØ©
        function setupSmartSchedule() {
            // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
            clearSmartSchedule();

            if (scheduleSettings.type === 'interval') {
                // Ø¬Ø¯ÙˆÙ„Ø© Ø¯ÙˆØ±ÙŠØ©
                const intervalMs = scheduleSettings.interval * 60 * 1000;
                const scheduleInterval = setInterval(() => {
                    performSmartUpdate();
                }, intervalMs);

                scheduledTimeouts.push(scheduleInterval);

            } else if (scheduleSettings.type === 'specific') {
                // Ø¬Ø¯ÙˆÙ„Ø© Ø£ÙˆÙ‚Ø§Øª Ù…Ø­Ø¯Ø¯Ø©
                scheduleSpecificTimes();
            }
        }

        // Ø¬Ø¯ÙˆÙ„Ø© Ø£ÙˆÙ‚Ø§Øª Ù…Ø­Ø¯Ø¯Ø©
        function scheduleSpecificTimes() {
            scheduleSettings.specificTimes.forEach(timeStr => {
                scheduleTimeUpdate(timeStr);
            });
        }

        // Ø¬Ø¯ÙˆÙ„Ø© ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯
        function scheduleTimeUpdate(timeStr) {
            const now = new Date();
            const [hours, minutes] = timeStr.split(':').map(Number);

            const scheduledTime = new Date();
            scheduledTime.setHours(hours, minutes, 0, 0);

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ù‚Ø¯ Ù…Ø¶Ù‰ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø¬Ø¯ÙˆÙ„Ù‡ Ù„Ù„ØºØ¯
            if (scheduledTime <= now) {
                scheduledTime.setDate(scheduledTime.getDate() + 1);
            }

            const timeUntilUpdate = scheduledTime.getTime() - now.getTime();

            const timeout = setTimeout(() => {
                performSmartUpdate();
                // Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
                scheduleTimeUpdate(timeStr);
            }, timeUntilUpdate);

            scheduledTimeouts.push(timeout);
        }

        // ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø°ÙƒÙŠ
        async function performSmartUpdate() {
            try {
                if (scheduleSettings.smartUpdate) {
                    // ÙØ­Øµ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØºÙŠØ±Øª
                    const newData = await fetchTransfermarktData();
                    const newDataHash = generateDataHash(newData);

                    if (newDataHash === lastDataHash) {
                        console.log('Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ØªÙ… ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«');
                        showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØºÙŠÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©', 'info', 2000);
                        return;
                    }

                    lastDataHash = newDataHash;
                }

                // ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­Ø¯ÙŠØ«
                await fetchLatestData();

                if (scheduleSettings.offlineMode) {
                    // Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ø­Ù„ÙŠØ©
                    saveOfflineBackup();
                }

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„', 'error');
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ hash Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
        function generateDataHash(data) {
            if (!data || !Array.isArray(data)) return '';

            const dataString = data.map(club =>
                `${club.name}-${club.expenditure}-${club.arrivals}-${club.departures}`
            ).join('|');

            // hash Ø¨Ø³ÙŠØ·
            let hash = 0;
            for (let i = 0; i < dataString.length; i++) {
                const char = dataString.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ 32bit integer
            }
            return hash.toString();
        }

        // Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ø­Ù„ÙŠØ©
        function saveOfflineBackup() {
            const backup = {
                data: currentData,
                timestamp: new Date().toISOString(),
                settings: scheduleSettings
            };

            localStorage.setItem('transfermarkt-offline-backup', JSON.stringify(backup));
            console.log('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');
        }

        // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø°ÙƒÙŠØ©
        function clearSmartSchedule() {
            scheduledTimeouts.forEach(timeout => {
                clearTimeout(timeout);
                clearInterval(timeout);
            });
            scheduledTimeouts = [];
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgress(percentage, message) {
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const loadingText = document.getElementById('loadingText');

            if (progressBar) {
                progressBar.style.width = percentage + '%';
            }

            if (progressText) {
                progressText.textContent = percentage + '%';
            }

            if (loadingText && message) {
                loadingText.textContent = message;
            }
        }

        // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        function addCardInteractions() {
            const cards = document.querySelectorAll('.club-card');

            cards.forEach(card => {
                // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø§ÙˆØ³
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                    this.style.zIndex = '10';

                    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¡
                    const lightEffect = document.createElement('div');
                    lightEffect.className = 'light-effect';
                    lightEffect.style.cssText = `
                        position: absolute;
                        top: -50%;
                        left: -50%;
                        width: 200%;
                        height: 200%;
                        background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
                        pointer-events: none;
                        z-index: -1;
                        animation: lightPulse 2s ease-in-out infinite;
                    `;
                    this.appendChild(lightEffect);
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.zIndex = '1';

                    // Ø¥Ø²Ø§Ù„Ø© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¡
                    const lightEffect = this.querySelector('.light-effect');
                    if (lightEffect) {
                        lightEffect.remove();
                    }
                });

                // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø±
                card.addEventListener('click', function() {
                    this.style.transform = 'translateY(-8px) scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-8px) scale(1.02)';
                    }, 150);

                    // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                    showClubDetails(this);
                });
            });
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù†Ø§Ø¯ÙŠ
        function showClubDetails(cardElement) {
            const clubName = cardElement.querySelector('.club-name').textContent;
            const expenditure = cardElement.querySelector('.expenditure-amount').textContent;
            const arrivals = cardElement.querySelector('.stat-value').textContent;
            const logoData = ClubLogoManager.getClubLogo(clubName);

            showAdvancedNotification(
                `ğŸ“Š ØªÙØ§ØµÙŠÙ„ ${clubName}`,
                `
                <div style="text-align: right;">
                    <div style="margin-bottom: 1rem;">
                        <strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚:</strong> ${expenditure}<br>
                        <strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…ÙŠÙ†:</strong> ${arrivals}<br>
                        <strong>Ù…ØµØ¯Ø± Ø§Ù„Ø´Ø¹Ø§Ø±:</strong> ${logoData.source === 'club-logo-manager' ? 'Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª' : logoData.source === 'local' ? 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©' : 'Ù…ÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹'}
                    </div>
                </div>
                `,
                'info',
                [
                    { text: 'Ø±Ø¨Ø· ÙŠØ¯ÙˆÙŠ Ø¨Ø§Ù„Ø´Ø¹Ø§Ø±', onClick: `showManualLinkModal('${clubName}'); closeNotification(this.closest("[id^=advanced-notification]").id)`, primary: true },
                    { text: 'ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±', onClick: `openClubProfile('${clubName}')` },
                    { text: 'Ø¥ØºÙ„Ø§Ù‚', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                ]
            );
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¨Ø· Ø§Ù„ÙŠØ¯ÙˆÙŠ (Ù…Ø­Ø³Ù† ÙˆÙ…Ø·ÙˆØ±)
        function showManualLinkModal(clubName) {
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø¯Ø±
            let availableClubs = [];
            const dataSources = ['clubManagerData', 'clubsData', 'verifiedClubs'];

            dataSources.forEach(sourceKey => {
                const clubsData = localStorage.getItem(sourceKey);
                if (clubsData) {
                    try {
                        const clubs = JSON.parse(clubsData);
                        clubs.forEach(club => {
                            const logoUrl = club.logo || club.logoUrl;
                            if (logoUrl && logoUrl !== 'N/A' && logoUrl.startsWith('http')) {
                                const clubInfo = {
                                    name: club.arabicName || club.englishName,
                                    arabicName: club.arabicName,
                                    englishName: club.englishName,
                                    logo: logoUrl,
                                    source: sourceKey
                                };

                                // ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±
                                const exists = availableClubs.some(existing =>
                                    existing.name === clubInfo.name ||
                                    existing.logo === clubInfo.logo
                                );

                                if (!exists) {
                                    availableClubs.push(clubInfo);
                                }
                            }
                        });
                    } catch (error) {
                        console.error(`Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª ${sourceKey}:`, error);
                    }
                }
            });

            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø£Ø¨Ø¬Ø¯ÙŠØ§Ù‹
            availableClubs.sort((a, b) => a.name.localeCompare(b.name));

            let clubOptionsHtml = '<option value="">Ø§Ø®ØªØ± Ù†Ø§Ø¯ÙŠ...</option>';
            availableClubs.forEach(club => {
                clubOptionsHtml += `<option value="${club.name}" data-logo="${club.logo}">${club.name}</option>`;
            });

            showAdvancedNotification(
                `ğŸ”— Ø±Ø¨Ø· ÙŠØ¯ÙˆÙŠ: ${clubName}`,
                `
                <div style="text-align: right; margin: 1rem 0;">
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø§Ø®ØªØ± Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù…Ù† club-logo-manager:</label>
                        <select id="manualLinkSelect" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;" onchange="previewManualLink()">
                            ${clubOptionsHtml}
                        </select>
                    </div>
                    <div id="linkPreview" style="display: none; margin-top: 1rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <img id="previewLogo" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
                            <div>
                                <div style="font-weight: 600;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø±Ø¨Ø·</div>
                                <div id="previewName" style="color: rgba(255, 255, 255, 0.8);"></div>
                            </div>
                        </div>
                    </div>
                </div>
                `,
                'info',
                [
                    { text: 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ø¨Ø·', onClick: `confirmManualLink('${clubName}'); closeNotification(this.closest("[id^=advanced-notification]").id)`, primary: true },
                    { text: 'Ø¥Ù„ØºØ§Ø¡', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                ]
            );
        }

        // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø±Ø¨Ø· Ø§Ù„ÙŠØ¯ÙˆÙŠ
        function previewManualLink() {
            const select = document.getElementById('manualLinkSelect');
            const preview = document.getElementById('linkPreview');
            const previewLogo = document.getElementById('previewLogo');
            const previewName = document.getElementById('previewName');

            if (select.value) {
                const selectedOption = select.options[select.selectedIndex];
                const logoUrl = selectedOption.getAttribute('data-logo');

                previewLogo.src = logoUrl;
                previewName.textContent = select.value;
                preview.style.display = 'block';
            } else {
                preview.style.display = 'none';
            }
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ø¨Ø· Ø§Ù„ÙŠØ¯ÙˆÙŠ
        function confirmManualLink(clubName) {
            const select = document.getElementById('manualLinkSelect');

            if (select.value) {
                const selectedOption = select.options[select.selectedIndex];
                const logoUrl = selectedOption.getAttribute('data-logo');
                const linkedClubName = select.value;

                // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø¨Ø· ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                ClubLogoManager.localLogoDatabase[clubName] = {
                    logo: logoUrl,
                    fallback: logoUrl,
                    league: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    aliases: [linkedClubName],
                    source: 'manual-link',
                    linkedTo: linkedClubName
                };

                ClubLogoManager.saveToLocalStorage();

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø©
                const clubCards = document.querySelectorAll('.club-card');
                clubCards.forEach(card => {
                    const cardClubName = card.querySelector('.club-name').textContent;
                    if (cardClubName === clubName) {
                        const logoImg = card.querySelector('.club-logo');
                        logoImg.src = logoUrl;
                        logoImg.setAttribute('data-fallback', logoUrl);
                    }
                });

                showNotification(`ØªÙ… Ø±Ø¨Ø· ${clubName} Ù…Ø¹ ${linkedClubName} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
            } else {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†Ø§Ø¯ÙŠ Ù„Ù„Ø±Ø¨Ø·', 'error');
            }
        }

        // ÙØªØ­ Ù…Ù„Ù Ø§Ù„Ù†Ø§Ø¯ÙŠ (ÙŠÙ…ÙƒÙ† ØªØ·ÙˆÙŠØ±Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)
        function openClubProfile(clubName) {
            showNotification(`Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù ${clubName} Ù‚Ø±ÙŠØ¨Ø§Ù‹!`, 'info');
        }

        // Ø¥Ø¶Ø§ÙØ© CSS Ù„Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
        const additionalStyles = `
            @keyframes lightPulse {
                0%, 100% { opacity: 0.3; transform: scale(1); }
                50% { opacity: 0.6; transform: scale(1.1); }
            }

            .club-card {
                cursor: pointer;
                user-select: none;
            }

            .club-card:active {
                transform: translateY(-6px) scale(0.98) !important;
            }
        `;

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ù„Ù„ØµÙØ­Ø©
        function addDynamicStyles() {
            const styleSheet = document.createElement('style');
            styleSheet.textContent = additionalStyles;
            document.head.appendChild(styleSheet);
        }

        // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†
        function exportData() {
            try {
                const fullData = JSON.parse(localStorage.getItem('transfermarktDataFull')) || {};

                const dataToExport = {
                    exportInfo: {
                        timestamp: new Date().toISOString(),
                        exportedBy: 'Mercato Transfer Tool',
                        version: '2.0',
                        totalRecords: currentData.length
                    },
                    seasonInfo: {
                        season: '2024/2025',
                        lastUpdate: fullData.lastUpdate || new Date().toISOString(),
                        dataSource: fullData.source || 'enhanced-default'
                    },
                    clubs: currentData.map(club => ({
                        ...club,
                        exportedAt: new Date().toISOString()
                    })),
                    statistics: {
                        totalExpenditure: calculateTotalExpenditure(currentData),
                        averageExpenditure: calculateAverageExpenditure(currentData),
                        topSpender: currentData[0]?.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        totalArrivals: currentData.reduce((sum, club) => sum + (club.arrivals || 0), 0),
                        totalDepartures: currentData.reduce((sum, club) => sum + (club.departures || 0), 0)
                    }
                };

                // ØªØµØ¯ÙŠØ± JSON
                const jsonString = JSON.stringify(dataToExport, null, 2);
                const jsonBlob = new Blob([jsonString], { type: 'application/json' });
                const jsonUrl = URL.createObjectURL(jsonBlob);

                const jsonLink = document.createElement('a');
                jsonLink.href = jsonUrl;
                jsonLink.download = `transfermarkt-top-spenders-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(jsonLink);
                jsonLink.click();
                document.body.removeChild(jsonLink);
                URL.revokeObjectURL(jsonUrl);

                // ØªØµØ¯ÙŠØ± CSV Ø£ÙŠØ¶Ø§Ù‹
                exportCSV(currentData);

                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ØµÙŠØºØªÙŠ JSON Ùˆ CSV Ø¨Ù†Ø¬Ø§Ø­!', 'success');

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
            }
        }

        // ØªØµØ¯ÙŠØ± CSV
        function exportCSV(data) {
            const headers = ['Ø§Ù„ØªØ±ØªÙŠØ¨', 'Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ', 'Ø§Ù„Ø¯ÙˆØ±ÙŠ', 'Ø§Ù„Ø¥Ù†ÙØ§Ù‚', 'Ø§Ù„Ù‚Ø§Ø¯Ù…ÙˆÙ†', 'Ø§Ù„Ù…ØºØ§Ø¯Ø±ÙˆÙ†', 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª', 'Ø§Ù„Ø±ØµÙŠØ¯'];
            const csvContent = [
                headers.join(','),
                ...data.map(club => [
                    club.rank,
                    `"${club.name}"`,
                    `"${club.league || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}"`,
                    `"${club.expenditure}"`,
                    club.arrivals || 0,
                    club.departures || 0,
                    `"${club.income}"`,
                    `"${club.balance}"`
                ].join(','))
            ].join('\n');

            const csvBlob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
            const csvUrl = URL.createObjectURL(csvBlob);

            const csvLink = document.createElement('a');
            csvLink.href = csvUrl;
            csvLink.download = `transfermarkt-top-spenders-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(csvLink);
            csvLink.click();
            document.body.removeChild(csvLink);
            URL.revokeObjectURL(csvUrl);
        }

        // Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚
        function calculateTotalExpenditure(data) {
            return data.reduce((total, club) => {
                const amount = parseFloat(club.expenditure.replace(/[â‚¬m,]/g, '')) || 0;
                return total + amount;
            }, 0).toFixed(2) + 'm';
        }

        // Ø­Ø³Ø§Ø¨ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ù†ÙØ§Ù‚
        function calculateAverageExpenditure(data) {
            const total = parseFloat(calculateTotalExpenditure(data).replace('m', ''));
            return (total / data.length).toFixed(2) + 'm';
        }

        // ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©
        function openDisplayPage() {
            // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ localStorage
            localStorage.setItem('transfermarktData', JSON.stringify(currentData));
            localStorage.setItem('transfermarktLastUpdate', new Date().toISOString());

            // ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
            window.open('/transfermarkt-display-pro.html', '_blank');

            showNotification('ØªÙ… ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©!', 'success');
        }

        // Ù†Ø¸Ø§Ù… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø­Ø³Ù†
        function showNotification(message, type = 'info', duration = 4000) {
            const notification = document.createElement('div');
            const notificationId = 'notification-' + Date.now();

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            const styles = {
                success: { bg: '#10b981', icon: 'fas fa-check-circle' },
                error: { bg: '#ef4444', icon: 'fas fa-exclamation-circle' },
                warning: { bg: '#f59e0b', icon: 'fas fa-exclamation-triangle' },
                info: { bg: '#3b82f6', icon: 'fas fa-info-circle' }
            };

            const style = styles[type] || styles.info;

            notification.id = notificationId;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${style.bg};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                z-index: 1000;
                font-weight: 600;
                transform: translateX(100%);
                transition: all 0.3s ease;
                max-width: 350px;
                min-width: 250px;
                display: flex;
                align-items: center;
                gap: 0.75rem;
                cursor: pointer;
                border: 2px solid rgba(255,255,255,0.2);
            `;

            notification.innerHTML = `
                <i class="${style.icon}"></i>
                <span style="flex: 1;">${message}</span>
                <i class="fas fa-times" style="opacity: 0.7; font-size: 0.9rem;"></i>
            `;

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ù‚Ø± Ù„Ù„Ø¥ØºÙ„Ø§Ù‚
            notification.addEventListener('click', () => {
                closeNotification(notificationId);
            });

            document.body.appendChild(notification);

            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¸Ù‡ÙˆØ±
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            setTimeout(() => {
                closeNotification(notificationId);
            }, duration);

            return notificationId;
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
        function closeNotification(notificationId) {
            const notification = document.getElementById(notificationId);
            if (notification) {
                notification.style.transform = 'translateX(100%)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }
        }

        // Ø¥Ø´Ø¹Ø§Ø± Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª
        function showAdvancedNotification(title, message, type = 'info', actions = []) {
            const notification = document.createElement('div');
            const notificationId = 'advanced-notification-' + Date.now();

            const styles = {
                success: { bg: '#10b981', icon: 'fas fa-check-circle' },
                error: { bg: '#ef4444', icon: 'fas fa-exclamation-circle' },
                warning: { bg: '#f59e0b', icon: 'fas fa-exclamation-triangle' },
                info: { bg: '#3b82f6', icon: 'fas fa-info-circle' }
            };

            const style = styles[type] || styles.info;

            notification.id = notificationId;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(26, 26, 46, 0.95);
                color: white;
                padding: 1.5rem;
                border-radius: 15px;
                box-shadow: 0 15px 35px rgba(0,0,0,0.4);
                z-index: 1001;
                transform: translateX(100%);
                transition: all 0.4s ease;
                max-width: 400px;
                min-width: 300px;
                border: 2px solid ${style.bg};
                backdrop-filter: blur(10px);
            `;

            let actionsHTML = '';
            if (actions.length > 0) {
                actionsHTML = `
                    <div style="margin-top: 1rem; display: flex; gap: 0.5rem; justify-content: flex-end;">
                        ${actions.map(action => `
                            <button onclick="${action.onClick}" style="
                                background: ${action.primary ? style.bg : 'transparent'};
                                color: ${action.primary ? 'white' : style.bg};
                                border: 1px solid ${style.bg};
                                padding: 0.5rem 1rem;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 0.9rem;
                                transition: all 0.2s ease;
                            ">${action.text}</button>
                        `).join('')}
                    </div>
                `;
            }

            notification.innerHTML = `
                <div style="display: flex; align-items: flex-start; gap: 1rem;">
                    <i class="${style.icon}" style="color: ${style.bg}; font-size: 1.5rem; margin-top: 0.25rem;"></i>
                    <div style="flex: 1;">
                        <div style="font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem;">${title}</div>
                        <div style="opacity: 0.9; line-height: 1.4;">${message}</div>
                        ${actionsHTML}
                    </div>
                    <i class="fas fa-times" onclick="closeNotification('${notificationId}')" style="
                        opacity: 0.7;
                        cursor: pointer;
                        padding: 0.25rem;
                        border-radius: 4px;
                        transition: all 0.2s ease;
                    " onmouseover="this.style.opacity='1'; this.style.background='rgba(255,255,255,0.1)'"
                       onmouseout="this.style.opacity='0.7'; this.style.background='transparent'"></i>
                </div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // Ø¥ØºÙ„Ø§Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 8 Ø«ÙˆØ§Ù†Ù Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
            setTimeout(() => {
                closeNotification(notificationId);
            }, 8000);

            return notificationId;
        }

        // ØªØ­Ø³ÙŠÙ† Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ©
        function displayClubsWithAnimation(clubs) {
            const grid = document.getElementById('clubsGrid');
            grid.innerHTML = '';

            clubs.forEach((club, index) => {
                setTimeout(() => {
                    const clubCard = createClubCard(club);
                    clubCard.style.opacity = '0';
                    clubCard.style.transform = 'translateY(30px)';
                    grid.appendChild(clubCard);

                    setTimeout(() => {
                        clubCard.style.transition = 'all 0.5s ease';
                        clubCard.style.opacity = '1';
                        clubCard.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 100);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function displayClubs(clubs) {
            displayClubsWithAnimation(clubs);

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø±Ø¶
            setTimeout(() => {
                addCardInteractions();
                updateFavoriteIndicators();
            }, 1000);
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        async function initializeApp() {
            try {
                // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
                showLoadingScreen();

                // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†
                await ClubLogoManager.initialize();

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¨Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©
                defaultClubsData = getEnhancedDefaultData().slice(0, 3);

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
                addDynamicStyles();

                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø£Ùˆ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                await loadInitialData();

                // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø«
                setupEventListeners();

                // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
                setupCommunication();

                // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                const savedSchedule = localStorage.getItem('scheduleSettings');
                if (savedSchedule) {
                    scheduleSettings = { ...scheduleSettings, ...JSON.parse(savedSchedule) };
                    setupSmartSchedule();
                }

                // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
                hideLoadingScreen();

                // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
                showWelcomeMessage();

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:', error);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚', 'error');
            }
        }

        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        function showLoadingScreen() {
            const loadingOverlay = document.createElement('div');
            loadingOverlay.id = 'initialLoadingOverlay';
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                color: white;
            `;

            loadingOverlay.innerHTML = `
                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; border: 4px solid rgba(255, 215, 0, 0.1); border-top: 4px solid #ffd700; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 2rem;"></div>
                    <h2 style="font-size: 2rem; margin-bottom: 1rem; background: linear-gradient(45deg, #ffd700, #ffed4e); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ğŸ’° Mercato Transfer Tool</h2>
                    <p style="font-size: 1.2rem; color: #94a3b8;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø£Ø­Ø¯Ø« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª...</p>
                </div>
            `;

            document.body.appendChild(loadingOverlay);
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function hideLoadingScreen() {
            const overlay = document.getElementById('initialLoadingOverlay');
            if (overlay) {
                overlay.style.opacity = '0';
                overlay.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    if (overlay.parentNode) {
                        overlay.parentNode.removeChild(overlay);
                    }
                }, 500);
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        async function loadInitialData() {
            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                const savedData = localStorage.getItem('transfermarktData');
                const lastUpdate = localStorage.getItem('transfermarktLastUpdate');

                if (savedData && lastUpdate) {
                    const data = JSON.parse(savedData);
                    const updateTime = new Date(lastUpdate);
                    const now = new Date();
                    const hoursSinceUpdate = (now - updateTime) / (1000 * 60 * 60);

                    if (hoursSinceUpdate < 24) { // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø¯ÙŠØ«Ø© (Ø£Ù‚Ù„ Ù…Ù† 24 Ø³Ø§Ø¹Ø©)
                        currentData = data;
                        displayClubs(currentData);
                        updateLastUpdatedTime();
                        return;
                    }
                }

                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†Ø©
                currentData = getEnhancedDefaultData();
                displayClubs(currentData);

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©:', error);
                currentData = defaultClubsData;
                displayClubs(currentData);
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            // Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
            document.addEventListener('keydown', function(e) {
                // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ ÙÙŠ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                    return;
                }

                if (e.ctrlKey && e.key === 'r') {
                    e.preventDefault();
                    fetchLatestData();
                    showNotification('ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ø§Ù„Ø§Ø®ØªØµØ§Ø± Ctrl+R', 'info', 2000);
                }
                if (e.ctrlKey && e.key === 'e') {
                    e.preventDefault();
                    exportData();
                }
                if (e.ctrlKey && e.key === 't') {
                    e.preventDefault();
                    toggleAutoUpdate();
                }
                if (e.ctrlKey && e.key === 'd') {
                    e.preventDefault();
                    openDisplayPage();
                }
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    showScheduleModal();
                    showNotification('ØªÙ… ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø¨Ø§Ù„Ø§Ø®ØªØµØ§Ø± Ctrl+S', 'info', 2000);
                }
                if (e.key === 'F1') {
                    e.preventDefault();
                    showHelpModal();
                }
                if (e.key === 'Escape') {
                    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ÙØªÙˆØ­Ø©
                    const modal = document.getElementById('scheduleModal');
                    if (modal && modal.style.display !== 'none') {
                        closeScheduleModal();
                    }
                }
            });

            // Ù…Ø³ØªÙ…Ø¹ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø¨ÙƒØ©
            window.addEventListener('online', function() {
                showNotification('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª', 'success');
            });

            window.addEventListener('offline', function() {
                showNotification('Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª - Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', 'warning');
            });

            // Ù…Ø³ØªÙ…Ø¹ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
            window.addEventListener('resize', function() {
                // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
                setTimeout(() => {
                    const grid = document.getElementById('clubsGrid');
                    if (grid) {
                        grid.style.opacity = '0.8';
                        setTimeout(() => {
                            grid.style.opacity = '1';
                        }, 200);
                    }
                }, 100);
            });
        }

        // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        function setupCommunication() {
            // BroadcastChannel Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
            if ('BroadcastChannel' in window) {
                const channel = new BroadcastChannel('transfermarkt-updates');
                channel.addEventListener('message', function(event) {
                    if (event.data.type === 'data-update') {
                        currentData = event.data.data;
                        displayClubs(currentData);
                        showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ØµÙØ­Ø© Ø£Ø®Ø±Ù‰', 'info');
                    }
                });
            }

            // Ù…Ø³ØªÙ…Ø¹ localStorage Ù„Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            window.addEventListener('storage', function(e) {
                if (e.key === 'transfermarkt-broadcast') {
                    try {
                        const data = JSON.parse(e.newValue);
                        if (data.type === 'data-update') {
                            currentData = data.data;
                            displayClubs(currentData);
                            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† ØµÙØ­Ø© Ø£Ø®Ø±Ù‰', 'info');
                        }
                    } catch (error) {
                        console.log('Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«');
                    }
                }
            });
        }

        // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
        function showWelcomeMessage() {
            const isFirstVisit = !localStorage.getItem('transfermarkt-visited');
            const userPreferences = getUserPreferences();

            if (isFirstVisit) {
                localStorage.setItem('transfermarkt-visited', 'true');

                setTimeout(() => {
                    showAdvancedNotification(
                        'ğŸ‰ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø£Ø¯Ø§Ø© Mercato!',
                        'Ø£Ø¯Ø§Ø© Ù…ØªØ·ÙˆØ±Ø© Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø£ÙƒØ«Ø± Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ØµØ±ÙØ§Ù‹ ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª 2025. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª: Ctrl+R Ù„Ù„ØªØ­Ø¯ÙŠØ«ØŒ Ctrl+E Ù„Ù„ØªØµØ¯ÙŠØ±ØŒ Ctrl+T Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ',
                        'info',
                        [
                            { text: 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¢Ù†', onClick: 'fetchLatestData(); closeNotification(this.closest("[id^=advanced-notification]").id)', primary: true },
                            { text: 'Ø­Ø³Ù†Ø§Ù‹', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                        ]
                    );
                }, 1000);
            } else {
                setTimeout(() => {
                    const lastVisit = userPreferences.lastVisit ? new Date(userPreferences.lastVisit) : new Date();
                    const hoursSinceLastVisit = (new Date() - lastVisit) / (1000 * 60 * 60);

                    if (hoursSinceLastVisit > 24) {
                        showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ! ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ø° Ø²ÙŠØ§Ø±ØªÙƒ Ø§Ù„Ø£Ø®ÙŠØ±Ø©', 'info');
                    } else {
                        showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ! Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¹Ø±Ø¶', 'info');
                    }
                }, 500);
            }

            // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©
            saveUserPreferences({ ...userPreferences, lastVisit: new Date().toISOString() });
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function getUserPreferences() {
            const saved = localStorage.getItem('userPreferences');
            return saved ? JSON.parse(saved) : {
                theme: 'dark',
                autoUpdate: false,
                notifications: true,
                lastVisit: null,
                favoriteClubs: []
            };
        }

        // Ø­ÙØ¸ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function saveUserPreferences(preferences) {
            localStorage.setItem('userPreferences', JSON.stringify(preferences));
        }

        // Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ù„Ù„Ù…ÙØ¶Ù„Ø©
        function toggleFavoriteClub(clubName) {
            const preferences = getUserPreferences();
            const index = preferences.favoriteClubs.indexOf(clubName);

            if (index > -1) {
                preferences.favoriteClubs.splice(index, 1);
                showNotification(`ØªÙ… Ø¥Ø²Ø§Ù„Ø© ${clubName} Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©`, 'info');
            } else {
                preferences.favoriteClubs.push(clubName);
                showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${clubName} Ù„Ù„Ù…ÙØ¶Ù„Ø©`, 'success');
            }

            saveUserPreferences(preferences);
            updateFavoriteIndicators();
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©
        function updateFavoriteIndicators() {
            const preferences = getUserPreferences();
            const cards = document.querySelectorAll('.club-card');

            cards.forEach(card => {
                const clubName = card.querySelector('.club-name').textContent;
                const isFavorite = preferences.favoriteClubs.includes(clubName);

                // Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©
                let favoriteIcon = card.querySelector('.favorite-icon');
                if (isFavorite && !favoriteIcon) {
                    favoriteIcon = document.createElement('i');
                    favoriteIcon.className = 'fas fa-heart favorite-icon';
                    favoriteIcon.style.cssText = `
                        position: absolute;
                        top: 1rem;
                        left: 1rem;
                        color: #ef4444;
                        font-size: 1.5rem;
                        z-index: 3;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    `;
                    favoriteIcon.onclick = (e) => {
                        e.stopPropagation();
                        toggleFavoriteClub(clubName);
                    };
                    card.appendChild(favoriteIcon);
                } else if (!isFavorite && favoriteIcon) {
                    favoriteIcon.remove();
                }
            });
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showHelpModal() {
            showAdvancedNotification(
                'ğŸ”§ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹',
                `
                <div style="text-align: right; line-height: 1.8;">
                    <strong>âŒ¨ï¸ Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­:</strong><br>
                    â€¢ Ctrl + R: ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<br>
                    â€¢ Ctrl + E: ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<br>
                    â€¢ Ctrl + T: ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ<br>
                    â€¢ Ctrl + D: ÙØªØ­ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ<br>
                    â€¢ Ctrl + S: ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©<br>
                    â€¢ F1: Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©<br>
                    â€¢ Escape: Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ°<br><br>

                    <strong>ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong><br>
                    â€¢ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Transfermarkt<br>
                    â€¢ Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø°ÙƒÙŠ<br>
                    â€¢ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (JSON & CSV)<br>
                    â€¢ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…<br>
                    â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ù„Ø£Ù†Ø¯ÙŠØ©<br>
                    â€¢ Ø§Ù„ØªØ²Ø§Ù…Ù† Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª<br>
                    â€¢ Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù†Ø¯ÙŠØ© (Ù†Ù‚Ø± Ù…Ø²Ø¯ÙˆØ¬ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø§Ø±)<br>
                </div>
                `,
                'info',
                [
                    { text: 'ÙÙ‡Ù…Øª', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)', primary: true }
                ]
            );
        }

        // Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function showLogoStats() {
            const stats = ClubLogoManager.getDetailedStats();
            const leagueStats = {};

            // Ø­Ø³Ø§Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª Ù…Ù† ÙƒÙ„Ø§ Ø§Ù„Ù…ØµØ¯Ø±ÙŠÙ†
            [...Object.values(ClubLogoManager.localLogoDatabase), ...Object.values(ClubLogoManager.externalLogoDatabase)].forEach(club => {
                if (club.league) {
                    leagueStats[club.league] = (leagueStats[club.league] || 0) + 1;
                }
            });

            const currentClubs = currentData.length;
            const matchedClubs = currentData.filter(club => ClubLogoManager.findClub(club.name)).length;

            let leagueStatsHtml = '';
            Object.entries(leagueStats).forEach(([league, count]) => {
                leagueStatsHtml += `<div style="display: flex; justify-content: space-between; margin: 0.5rem 0;"><span>${league}:</span><span>${count} Ù†Ø§Ø¯ÙŠ</span></div>`;
            });

            // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const sourceStats = currentData.map(club => {
                const logoData = ClubLogoManager.getClubLogo(club.name);
                return logoData.source;
            }).reduce((acc, source) => {
                acc[source] = (acc[source] || 0) + 1;
                return acc;
            }, {});

            let sourceStatsHtml = '';
            Object.entries(sourceStats).forEach(([source, count]) => {
                const sourceName = {
                    'club-logo-manager': 'Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª',
                    'local': 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©',
                    'generated': 'Ø´Ø¹Ø§Ø±Ø§Øª Ù…ÙˆÙ„Ø¯Ø©'
                }[source] || source;
                sourceStatsHtml += `<div style="display: flex; justify-content: space-between; margin: 0.5rem 0;"><span>${sourceName}:</span><span>${count} Ù†Ø§Ø¯ÙŠ</span></div>`;
            });

            showAdvancedNotification(
                'ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ·ÙˆØ±',
                `
                <div style="text-align: right; line-height: 1.6;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <strong>ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©:</strong><br>
                        <div style="margin: 0.5rem 0;">Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©: <strong>${stats.local}</strong> Ù†Ø§Ø¯ÙŠ</div>
                        <div style="margin: 0.5rem 0;">Ù…Ù† club-logo-manager: <strong>${stats.external}</strong> Ù†Ø§Ø¯ÙŠ</div>
                        <div style="margin: 0.5rem 0;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙØ±ÙŠØ¯: <strong>${stats.total}</strong> Ù†Ø§Ø¯ÙŠ</div>
                        <div style="margin: 0.5rem 0;">Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©: <strong>${currentClubs}</strong></div>
                        <div style="margin: 0.5rem 0;">Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºØ·ÙŠØ©: <strong>${stats.coverage}%</strong></div>
                    </div>

                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <strong>ğŸ¯ Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</strong><br>
                        ${sourceStatsHtml}
                    </div>

                    <div style="background: rgba(255, 193, 7, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <strong>ğŸ† ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª:</strong><br>
                        ${leagueStatsHtml}
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px;">
                        <strong>ğŸ’¡ Ù†ØµØ§Ø¦Ø­:</strong><br>
                        â€¢ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙ‚Ø±Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† club-logo-manager<br>
                        â€¢ Ø§Ù†Ù‚Ø± Ù†Ù‚Ø±Ø§Ù‹ Ù…Ø²Ø¯ÙˆØ¬Ø§Ù‹ Ø¹Ù„Ù‰ Ø£ÙŠ Ø´Ø¹Ø§Ø± Ù„ØªØ­Ø¯ÙŠØ«Ù‡<br>
                        â€¢ ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹<br>
                        â€¢ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªØªÙ… ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©<br>
                    </div>
                </div>
                `,
                'info',
                [
                    { text: 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ù† club-logo-manager', onClick: 'reloadExternalLogos(); closeNotification(this.closest("[id^=advanced-notification]").id)', primary: true },
                    { text: 'Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯', onClick: 'showAddClubModal(); closeNotification(this.closest("[id^=advanced-notification]").id)' },
                    { text: 'Ø¥ØºÙ„Ø§Ù‚', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                ]
            );
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
        async function reloadExternalLogos() {
            const success = await ClubLogoManager.loadExternalLogos();
            if (success) {
                showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† club-logo-manager Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                if (currentData && currentData.length > 0) {
                    displayClubs(currentData);
                }
            } else {
                showNotification('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ club-logo-manager', 'warning');
            }
        }

        // ØªØ´Ø®ÙŠØµ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø±Ø¨Ø· (Ù…Ø­Ø³Ù† ÙˆÙ…Ø·ÙˆØ±)
        function diagnoseLinkingIssues() {
            const diagnostics = [];

            // ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const dataSources = [
                { key: 'clubManagerData', name: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ' },
                { key: 'clubsData', name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ù†Ø¯ÙŠØ©' },
                { key: 'verifiedClubs', name: 'Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ù…ØªØ­Ù‚Ù‚Ø©' }
            ];

            let foundAnyData = false;
            let totalClubs = 0;
            let totalLogos = 0;

            dataSources.forEach(source => {
                const data = localStorage.getItem(source.key);
                if (data) {
                    try {
                        const clubs = JSON.parse(data);
                        const clubsWithLogos = clubs.filter(club => {
                            const logoUrl = club.logo || club.logoUrl;
                            return logoUrl && logoUrl !== 'N/A' && logoUrl.startsWith('http');
                        });

                        diagnostics.push({
                            type: 'success',
                            message: `${source.name}: ${clubs.length} Ù†Ø§Ø¯ÙŠ (${clubsWithLogos.length} Ù„Ø¯ÙŠÙ‡ Ø´Ø¹Ø§Ø±)`
                        });

                        totalClubs += clubs.length;
                        totalLogos += clubsWithLogos.length;
                        foundAnyData = true;
                    } catch (error) {
                        diagnostics.push({
                            type: 'error',
                            message: `Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© ${source.name}`,
                            solution: 'ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©'
                        });
                    }
                } else {
                    diagnostics.push({
                        type: 'warning',
                        message: `${source.name}: Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª`
                    });
                }
            });

            if (!foundAnyData) {
                diagnostics.push({
                    type: 'error',
                    message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø£ÙŠ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø±',
                    solution: 'Ø§ÙØªØ­ club-logo-manager ÙˆØ£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ù†Ø¯ÙŠØ©'
                });
            } else {
                diagnostics.push({
                    type: 'info',
                    message: `Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalClubs} Ù†Ø§Ø¯ÙŠØŒ ${totalLogos} Ø´Ø¹Ø§Ø± Ù…ØªØ§Ø­`
                });
            }

            // ÙØ­Øµ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            if (currentData && currentData.length > 0) {
                const matchResults = currentData.map(club => {
                    const found = ClubLogoManager.findClub(club.name);
                    return {
                        name: club.name,
                        found: !!found,
                        source: found ? ClubLogoManager.getClubLogo(club.name).source : 'none'
                    };
                });

                const matchedCount = matchResults.filter(r => r.found).length;
                diagnostics.push({
                    type: matchedCount > 0 ? 'success' : 'warning',
                    message: `ØªÙ… Ø±Ø¨Ø· ${matchedCount} Ù…Ù† ${currentData.length} Ø£Ù†Ø¯ÙŠØ©`
                });

                // ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©
                const unmatchedClubs = matchResults.filter(r => !r.found);
                if (unmatchedClubs.length > 0) {
                    diagnostics.push({
                        type: 'info',
                        message: `Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©: ${unmatchedClubs.map(c => c.name).join(', ')}`
                    });
                }
            }

            // Ø¹Ø±Ø¶ Ø§Ù„ØªØ´Ø®ÙŠØµ
            let diagnosticsHtml = '';
            diagnostics.forEach(diag => {
                const icon = {
                    'success': 'âœ…',
                    'warning': 'âš ï¸',
                    'error': 'âŒ',
                    'info': 'â„¹ï¸'
                }[diag.type];

                const color = {
                    'success': '#10b981',
                    'warning': '#f59e0b',
                    'error': '#ef4444',
                    'info': '#3b82f6'
                }[diag.type];

                diagnosticsHtml += `
                    <div style="margin: 0.75rem 0; padding: 0.75rem; background: rgba(${color === '#10b981' ? '16, 185, 129' : color === '#f59e0b' ? '245, 158, 11' : color === '#ef4444' ? '239, 68, 68' : '59, 130, 246'}, 0.1); border-radius: 8px; border-left: 4px solid ${color};">
                        <div style="display: flex; align-items: flex-start; gap: 0.5rem;">
                            <span style="font-size: 1.2rem;">${icon}</span>
                            <div>
                                <div style="font-weight: 600; color: ${color};">${diag.message}</div>
                                ${diag.solution ? `<div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.8); margin-top: 0.25rem;">ğŸ’¡ ${diag.solution}</div>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });

            showAdvancedNotification(
                'ğŸ” ØªØ´Ø®ÙŠØµ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø±Ø¨Ø·',
                `
                <div style="text-align: right; line-height: 1.6;">
                    ${diagnosticsHtml}

                    <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                        <strong>ğŸ› ï¸ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­:</strong><br>
                        1. ØªØ£ÙƒØ¯ Ù…Ù† ÙØªØ­ club-logo-manager ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ø¯ÙŠØ©<br>
                        2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ù…ØªØ·Ø§Ø¨Ù‚Ø© Ø£Ùˆ Ù…ØªØ´Ø§Ø¨Ù‡Ø©<br>
                        3. Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± "Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ù† club-logo-manager"<br>
                        4. ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø§Ù„ØªØ·Ø§Ø¨Ù‚ØŒ Ø£Ø¶Ù Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©<br>
                    </div>
                </div>
                `,
                'info',
                [
                    { text: 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', onClick: 'reloadExternalLogos(); closeNotification(this.closest("[id^=advanced-notification]").id)', primary: true },
                    { text: 'ÙØªØ­ club-logo-manager', onClick: 'window.open("club-logo-manager.html", "_blank"); closeNotification(this.closest("[id^=advanced-notification]").id)' },
                    { text: 'Ø¥ØºÙ„Ø§Ù‚', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                ]
            );
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯
        function showAddClubModal() {
            showAdvancedNotification(
                'â• Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯',
                `
                <div style="text-align: right; margin: 1rem 0;">
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø§Ø³Ù… Ø§Ù„Ù†Ø§Ø¯ÙŠ:</label>
                        <input type="text" id="newClubName" placeholder="Ù…Ø«Ø§Ù„: FC Barcelona" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;">
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±:</label>
                        <input type="url" id="newClubLogo" placeholder="https://example.com/logo.png" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;">
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ø§Ù„Ø¯ÙˆØ±ÙŠ:</label>
                        <select id="newClubLeague" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; background: rgba(26, 26, 46, 0.8); color: white;">
                            <option value="Premier League">Premier League</option>
                            <option value="LaLiga">LaLiga</option>
                            <option value="Serie A">Serie A</option>
                            <option value="Bundesliga">Bundesliga</option>
                            <option value="Ligue 1">Ligue 1</option>
                            <option value="ØºÙŠØ± Ù…Ø­Ø¯Ø¯">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
                        </select>
                    </div>
                </div>
                `,
                'info',
                [
                    { text: 'Ø¥Ø¶Ø§ÙØ©', onClick: 'addNewClub(); closeNotification(this.closest("[id^=advanced-notification]").id)', primary: true },
                    { text: 'Ø¥Ù„ØºØ§Ø¡', onClick: 'closeNotification(this.closest("[id^=advanced-notification]").id)' }
                ]
            );
        }

        // Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯
        function addNewClub() {
            const clubName = document.getElementById('newClubName').value;
            const clubLogo = document.getElementById('newClubLogo').value;
            const clubLeague = document.getElementById('newClubLeague').value;

            if (clubName && clubLogo) {
                ClubLogoManager.addClub(clubName, {
                    logo: clubLogo,
                    fallback: clubLogo,
                    league: clubLeague,
                    aliases: []
                });

                showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${clubName} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
            } else {
                showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'error');
            }
        }

        // Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ club-logo-manager (Ù…Ø­Ø³Ù† ÙˆÙ…Ø·ÙˆØ±)
        function syncToClubLogoManager(clubName, logoUrl) {
            try {
                // ØªØ­Ø¯ÙŠØ¯ Ø£ÙØ¶Ù„ Ù…ÙØªØ§Ø­ Ù„Ù„Ø­ÙØ¸ (Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ)
                const primaryKey = 'clubManagerData';
                const fallbackKey = 'clubsData';

                let targetKey = primaryKey;
                let clubsData = JSON.parse(localStorage.getItem(primaryKey) || '[]');

                // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                if (clubsData.length === 0) {
                    const fallbackData = localStorage.getItem(fallbackKey);
                    if (fallbackData) {
                        clubsData = JSON.parse(fallbackData);
                        targetKey = fallbackKey;
                    }
                }

                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
                const existingClubIndex = clubsData.findIndex(club =>
                    club.arabicName === clubName ||
                    club.englishName === clubName ||
                    ClubLogoManager.isMatch(club.arabicName, clubName) ||
                    ClubLogoManager.isMatch(club.englishName, clubName)
                );

                if (existingClubIndex !== -1) {
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯
                    clubsData[existingClubIndex].logo = logoUrl;
                    clubsData[existingClubIndex].logoUrl = logoUrl; // Ø¯Ø¹Ù… ÙƒÙ„Ø§ Ø§Ù„Ø´ÙƒÙ„ÙŠÙ†
                    showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø± ${clubName} ÙÙŠ ${targetKey}`, 'success');
                } else {
                    // Ø¥Ø¶Ø§ÙØ© Ù†Ø§Ø¯ÙŠ Ø¬Ø¯ÙŠØ¯
                    clubsData.push({
                        id: Date.now(),
                        arabicName: clubName,
                        englishName: clubName,
                        logo: logoUrl,
                        logoUrl: logoUrl, // Ø¯Ø¹Ù… ÙƒÙ„Ø§ Ø§Ù„Ø´ÙƒÙ„ÙŠÙ†
                        league: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        country: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                        createdAt: new Date().toISOString(),
                        source: 'transfermarkt-sync'
                    });
                    showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${clubName} Ø¥Ù„Ù‰ ${targetKey}`, 'success');
                }

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© ÙÙŠ ÙƒÙ„Ø§ Ø§Ù„Ù…ÙØªØ§Ø­ÙŠÙ† Ù„Ù„ØªÙˆØ§ÙÙ‚
                localStorage.setItem(targetKey, JSON.stringify(clubsData));
                localStorage.setItem(primaryKey, JSON.stringify(clubsData));
                localStorage.setItem(fallbackKey, JSON.stringify(clubsData));

                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
                ClubLogoManager.loadExternalLogos();

                console.log(`âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ ${targetKey} Ù…Ø¹ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©`);

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ club-logo-manager:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ club-logo-manager', 'error');
            }
        }
    </script>
</body>
</html>
