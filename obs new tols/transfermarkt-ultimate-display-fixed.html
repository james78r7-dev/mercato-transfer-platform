<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÅŸä ŸÑÿ£ŸÉÿ´ÿ± ÿßŸÑÿ£ŸÜÿØŸäÿ© ÿµÿ±ŸÅÿßŸã ŸÅŸä ÿ≥ŸàŸÇ ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑÿßÿ™</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            overflow: hidden;
            /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
        }

        .club-display {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .club-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            filter: blur(30px) brightness(0.1) saturate(0.5);
            z-index: 1;
            transition: all 1.5s ease;
            opacity: 0.3;
            /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS */
            image-rendering: -webkit-optimize-contrast;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .club-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            padding: 3rem;
        }

        .club-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 3rem;
            width: 100%;
            background: rgba(15, 15, 35, 0.8);
            border-radius: 25px;
            padding: 2rem;
            border: 2px solid rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .club-logo {
            width: 180px;
            height: 180px;
            object-fit: contain;
            margin-left: 2rem;
            filter: drop-shadow(0 0 25px rgba(255, 215, 0, 0.6));
            animation: logoGlow 3s ease-in-out infinite alternate;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .club-info {
            text-align: center;
            flex: 1;
        }

        .club-name {
            font-size: 4.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            animation: textGlow 2s ease-in-out infinite alternate;
        }

        .club-rank {
            font-size: 2.2rem;
            color: #fff;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .club-league {
            font-size: 1.8rem;
            color: #94a3b8;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .expenditure-section {
            background: rgba(15, 15, 35, 0.9);
            border-radius: 25px;
            padding: 3rem;
            margin: 2rem 0;
            border: 2px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.6);
            text-align: center;
            width: 100%;
            max-width: 800px;
        }

        .expenditure-label {
            font-size: 2rem;
            color: #94a3b8;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .expenditure-value {
            font-size: 7rem;
            font-weight: 900;
            color: #ffd700;
            text-align: center;
            margin: 1rem 0;
            text-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
            animation: expenditureGlow 3s ease-in-out infinite alternate;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .club-stats {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 2rem;
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
            flex: 1;
            padding: 2rem;
            background: rgba(15, 15, 35, 0.8);
            border-radius: 20px;
            border: 2px solid rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(15px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
        }

        .stat-label {
            font-size: 1.4rem;
            color: #94a3b8;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .stat-value {
            font-size: 3.5rem;
            font-weight: bold;
            color: #ffd700;
            animation: statGlow 2s ease-in-out infinite alternate;
        }

        .data-source {
            position: absolute;
            bottom: 2rem;
            right: 2rem;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.6);
            z-index: 3;
            background: rgba(15, 15, 35, 0.8);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .loading-spinner {
            width: 100px;
            height: 100px;
            border: 10px solid rgba(255, 215, 0, 0.2);
            border-top: 10px solid #ffd700;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin-bottom: 3rem;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .loading-text {
            font-size: 2rem;
            color: #ffd700;
            font-weight: 600;
        }

        .error-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #ef4444;
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            color: #ef4444;
            z-index: 10;
            backdrop-filter: blur(15px);
            max-width: 80%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes logoGlow {
            0% {
                filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.4));
                transform: scale(1);
            }
            100% {
                filter: drop-shadow(0 0 35px rgba(255, 215, 0, 0.8));
                transform: scale(1.08);
            }
        }

        @keyframes textGlow {
            0% {
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
                transform: scale(1);
            }
            100% {
                text-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
                transform: scale(1.02);
            }
        }

        @keyframes expenditureGlow {
            0% {
                text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
                transform: scale(1);
            }
            100% {
                text-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
                transform: scale(1.03);
            }
        }

        @keyframes statGlow {
            0% {
                text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
                transform: scale(1);
            }
            100% {
                text-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
                transform: scale(1.05);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(-100%);
                opacity: 0;
            }
        }

        /* ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑŸàÿßÿ¨Ÿáÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© */
        .notification {
            display: none !important;
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸÑÿπÿ±ÿ∂ */
        .club-header::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            border-radius: 25px;
            z-index: -1;
            opacity: 0.3;
            animation: borderGlow 3s ease-in-out infinite alternate;
        }

        @keyframes borderGlow {
            0% {
                opacity: 0.2;
            }
            100% {
                opacity: 0.5;
            }
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ™ÿ¨ÿßŸàÿ® */
        @media (max-width: 1200px) {
            .club-name {
                font-size: 3.5rem;
            }
            .expenditure-value {
                font-size: 5rem;
            }
            .stat-value {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .club-header {
                flex-direction: column;
                text-align: center;
            }
            .club-logo {
                margin-left: 0;
                margin-bottom: 1rem;
                width: 120px;
                height: 120px;
            }
            .club-name {
                font-size: 2.5rem;
            }
            .expenditure-value {
                font-size: 3.5rem;
            }
            .club-stats {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS */
        @media screen and (max-width: 1920px) {
            .club-name {
                font-size: 4rem;
            }
            .expenditure-value {
                font-size: 6rem;
            }
            .stat-value {
                font-size: 3rem;
            }
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS ŸÅŸä ÿßŸÑÿ¥ÿßÿ¥ÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ© */
        @media screen and (max-width: 1366px) {
            .club-name {
                font-size: 3.5rem;
            }
            .expenditure-value {
                font-size: 5rem;
            }
            .stat-value {
                font-size: 2.5rem;
            }
            .club-logo {
                width: 150px;
                height: 150px;
            }
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿÆÿßÿµÿ© ŸÑŸÑÿ®ÿ´ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ± 1920x1080 */
        @media screen and (width: 1920px) and (height: 1080px) {
            .club-name {
                font-size: 4.5rem;
            }
            .expenditure-value {
                font-size: 7rem;
            }
            .stat-value {
                font-size: 3.5rem;
            }
            .club-logo {
                width: 180px;
                height: 180px;
            }
            .club-header {
                padding: 2.5rem;
            }
            .expenditure-section {
                padding: 3.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="loadingSection" class="loading">
            <div class="loading-spinner"></div>
            <p class="loading-text">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</p>
        </div>

        <div id="errorSection" class="error-message" style="display: none;">
            <h2><i class="fas fa-exclamation-triangle"></i> ÿÆÿ∑ÿ£</h2>
            <p id="errorText">ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿßÿ™ÿµÿßŸÑ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©.</p>
            <div style="margin-top: 1rem;">
                <button onclick="window.open('/obs-new-tols/transfermarkt-real-data.html', '_blank')"
                        style="background: linear-gradient(135deg, #ffd700, #ffed4e); color: #1a1a2e; border: none; padding: 15px 25px; border-radius: 10px; cursor: pointer; font-weight: bold; box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);">
                    ŸÅÿ™ÿ≠ ÿµŸÅÿ≠ÿ© ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                </button>
            </div>
        </div>

        <div id="clubDisplay" class="club-display" style="display: none;">
            <div id="clubBackground" class="club-background"></div>

            <div class="club-content">
                <div class="club-header">
                    <img id="clubLogo" src="" alt="" class="club-logo">
                    <div class="club-info">
                        <h1 id="clubName" class="club-name"></h1>
                        <div id="clubRank" class="club-rank"></div>
                        <div id="clubLeague" class="club-league"></div>
                    </div>
                </div>

                <div class="expenditure-section">
                    <div class="expenditure-label">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ•ŸÜŸÅÿßŸÇ</div>
                    <div id="expenditureValue" class="expenditure-value"></div>
                </div>

                <div class="club-stats">
                    <div class="stat-item">
                        <div class="stat-label">ÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™</div>
                        <div id="incomeValue" class="stat-value"></div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©</div>
                        <div id="balanceValue" class="stat-value"></div>
                    </div>
                </div>
            </div>

            <div id="dataSource" class="data-source">
                <div style="margin-bottom: 0.5rem;">
                    <strong>ÿßŸÑŸÖÿµÿØÿ±:</strong> Transfermarkt | <span id="dataSourceType">ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ</span>
                </div>
                <div>
                    ÿ¢ÿÆÿ± ÿ™ÿ≠ÿØŸäÿ´: <span id="lastUpdated">ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ</span>
                </div>
                <button onclick="loadData()" style="margin-top: 0.5rem; background: linear-gradient(135deg, #ffd700, #ffed4e); color: #1a1a2e; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; font-weight: bold;">
                    üîÑ ÿ™ÿ≠ÿØŸäÿ´
                </button>
            </div>
        </div>
    </div>

    <!-- ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ© -->
    <script src="/public/data-manager.js"></script>
    <script src="/obs-new-tols/universal-logo-fix.js"></script>
    <!-- ÿ¨ŸÑÿ® ŸÖÿ®ÿßÿ¥ÿ± ŸÖŸÜ Transfermarkt (ÿ≠ŸÑ OBS) -->
    <script src="/obs-new-tols/transfermarkt-direct-fetch.js"></script>
    <script>
        // ŸÖŸÑÿßÿ≠ÿ∏ÿ©: ÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÑÿ∂ŸÖÿßŸÜ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÅŸÇÿ∑
        // ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ≥ÿ™ÿ£ÿ™Ÿä ŸÖŸÜ transfermarkt-real-data.html ÿ≠ÿµÿ±ŸäÿßŸã

        let currentClubIndex = 0;
        let clubs = [];
        let displayInterval;

        // ÿπÿ±ÿ∂ ÿ™ŸÜÿ®ŸäŸá ŸÖÿµÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function showDataSourceNotification(source) {
            // ÿ™ŸÖ ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑŸàÿßÿ¨Ÿáÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©
            // ŸÅŸÇÿ∑ ÿ∑ÿ®ÿßÿπÿ© ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ŸÅŸä console
            let message = '';

            switch(source) {
                case 'live':
                    message = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ≠ÿØÿ´ÿ© ŸàŸÖÿ®ÿßÿ¥ÿ±ÿ©';
                    break;
                case 'cached':
                    message = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ÿßŸÑÿ∞ÿßŸÉÿ±ÿ© ÿßŸÑŸÖÿ§ŸÇÿ™ÿ©';
                    break;
                case 'old':
                    message = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿØŸäŸÖÿ© - ŸäŸèŸÜÿµÿ≠ ÿ®ÿßŸÑÿ™ÿ≠ÿØŸäÿ´';
                    break;
                case 'default':
                    message = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© - ŸÇŸÖ ÿ®ÿ™ÿ¥ÿ∫ŸäŸÑ ÿµŸÅÿ≠ÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨';
                    break;
                case 'quick-fix':
                    message = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿßŸÑÿ≥ÿ±Ÿäÿπ';
                    break;
                default:
                    message = 'ŸÖÿµÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ';
            }

            console.log(`üìä ŸÖÿµÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: ${message}`);
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ∑ÿßÿ®ÿπ ÿßŸÑÿ≤ŸÖŸÜŸä ŸÑŸÑÿ®ŸäÿßŸÜÿßÿ™
        function updateDataTimestamp() {
            const lastUpdatedSpan = document.getElementById('lastUpdated');
            const dataSourceTypeSpan = document.getElementById('dataSourceType');

            // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÖÿµÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            const realData = localStorage.getItem('transfermarktRealData');
            const oldData = localStorage.getItem('transfermarktData');

            if (realData) {
                try {
                    const data = JSON.parse(realData);
                    if (data.source) {
                        dataSourceTypeSpan.textContent = data.source;
                    } else {
                        dataSourceTypeSpan.textContent = 'transfermarktRealData';
                    }

                    if (data.lastUpdate) {
                        const updateDate = new Date(data.lastUpdate);
                        // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ™ŸÇŸàŸäŸÖ ÿßŸÑŸÖŸäŸÑÿßÿØŸä ÿ®ÿØŸÑÿßŸã ŸÖŸÜ ÿßŸÑŸáÿ¨ÿ±Ÿä
                        lastUpdatedSpan.textContent = updateDate.toLocaleString('en-US', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit',
                            hour12: false
                        });
                    } else {
                        lastUpdatedSpan.textContent = 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';
                    }
                } catch (error) {
                    dataSourceTypeSpan.textContent = 'transfermarktRealData (ÿÆÿ∑ÿ£)';
                    lastUpdatedSpan.textContent = 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';
                }
            } else if (oldData) {
                dataSourceTypeSpan.textContent = 'transfermarktData';
                const lastUpdate = localStorage.getItem('transfermarktLastUpdate');

                if (lastUpdate) {
                    const updateDate = new Date(lastUpdate);
                    // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ™ŸÇŸàŸäŸÖ ÿßŸÑŸÖŸäŸÑÿßÿØŸä ÿ®ÿØŸÑÿßŸã ŸÖŸÜ ÿßŸÑŸáÿ¨ÿ±Ÿä
                    lastUpdatedSpan.textContent = updateDate.toLocaleString('en-US', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    });
                } else {
                    lastUpdatedSpan.textContent = 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';
                }
            } else {
                dataSourceTypeSpan.textContent = 'ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©';
                lastUpdatedSpan.textContent = 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';
            }
        }

        // ÿπÿ±ÿ∂ ÿßŸÑŸÜÿßÿØŸä ÿßŸÑÿ≠ÿßŸÑŸä - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function displayCurrentClub() {
            if (!clubs || clubs.length === 0) {
                console.warn('‚ö†Ô∏è ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÜÿØŸäÿ© ŸÑŸÑÿπÿ±ÿ∂');
                return;
            }

            try {
                const club = clubs[currentClubIndex];

                // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ - ŸäÿØÿπŸÖ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¨ÿØŸäÿØÿ© ŸàÿßŸÑŸÇÿØŸäŸÖÿ©
                const clubName = club.arabicName || club.name || club.englishName;
                let clubLogo = club.logoUrl || club.logo;

                // ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸáŸÜÿßŸÉ ÿ¥ÿπÿßÿ±ÿå ÿ≠ÿßŸàŸÑ ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜŸá
                if (!clubLogo) {
                    clubLogo = findClubLogo(club.englishName || clubName);
                }

                // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿµŸàÿµ
                const nameElement = document.getElementById('clubName');
                const rankElement = document.getElementById('clubRank');
                const leagueElement = document.getElementById('clubLeague');
                const expenditureElement = document.getElementById('expenditureValue');
                const incomeElement = document.getElementById('incomeValue');
                const balanceElement = document.getElementById('balanceValue');

                if (nameElement) nameElement.textContent = clubName;
                if (rankElement) rankElement.textContent = `ÿßŸÑŸÖÿ±ŸÉÿ≤ ${club.rank}`;
                if (leagueElement) leagueElement.textContent = club.league;
                if (expenditureElement) expenditureElement.textContent = club.expenditure;
                if (incomeElement) incomeElement.textContent = club.income;
                if (balanceElement) balanceElement.textContent = club.balance;

                // ÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿπÿ±ÿ∂ ÿπÿØÿØ ÿßŸÑÿµŸÅŸÇÿßÿ™ ÿßŸÑŸÇÿßÿØŸÖÿ© ŸàÿßŸÑÿÆÿ±Ÿàÿ¨ ÿ≠ÿ≥ÿ® ÿßŸÑÿ∑ŸÑÿ®

                // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ¥ÿπÿßÿ± ŸÖÿπ ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS + ÿ±ÿ®ÿ∑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™
                const logoImg = document.getElementById('clubLogo');
                const nameForLogo = club.englishName || clubName;
                let finalLogoUrl = clubLogo || findClubLogo(nameForLogo);
                if (!finalLogoUrl) {
                    try {
                        const resp = await fetch(`/api/get-club-logo?clubName=${encodeURIComponent(nameForLogo)}`);
                        const json = await resp.json();
                        finalLogoUrl = json?.data?.logoUrl || generateFallbackLogo(nameForLogo);
                    } catch {
                        finalLogoUrl = generateFallbackLogo(nameForLogo);
                    }
                }

                if (logoImg) {
                    logoImg.onload = function() {
                        console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿ¥ÿπÿßÿ± ${clubName} ÿ®ŸÜÿ¨ÿßÿ≠`);
                    };
                    logoImg.onerror = async function() {
                        console.warn(`‚ö†Ô∏è ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ¥ÿπÿßÿ± ${clubName}: ${finalLogoUrl}`);
                        try {
                            const resp = await fetch(`/api/get-club-logo?clubName=${encodeURIComponent(nameForLogo)}`);
                            const json = await resp.json();
                            const apiLogo = json?.data?.logoUrl;
                            if (apiLogo) {
                                this.src = apiLogo + (apiLogo.includes('?') ? `&v=${Date.now()}` : `?v=${Date.now()}`);
                                return;
                            }
                        } catch {}
                        this.src = generateFallbackLogo(nameForLogo);
                    };
                    const cacheBustedUrl = finalLogoUrl + (finalLogoUrl.includes('?') ? `&v=${Date.now()}` : `?v=${Date.now()}`);
                    setTimeout(() => {
                        logoImg.src = cacheBustedUrl;
                        logoImg.alt = clubName;
                    }, 50);
                }

                // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿÆŸÑŸÅŸäÿ© ŸÖÿπ ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
                const background = document.getElementById('clubBackground');
                if (background) {
                    setTimeout(() => {
                        background.style.backgroundImage = `url(${finalLogoUrl})`;
                    }, 200);
                }

                console.log(`ÿπÿ±ÿ∂ ÿßŸÑŸÜÿßÿØŸä: ${clubName} (${currentClubIndex + 1}/${clubs.length}) - ÿßŸÑÿ¥ÿπÿßÿ±: ${finalLogoUrl}`);
            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿπÿ±ÿ∂ ÿßŸÑŸÜÿßÿØŸä:', error);
            }
        }

        // ÿ•ŸÜÿ¥ÿßÿ° ÿ¥ÿπÿßÿ± ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä - ŸÖÿ≠ÿ≥ŸÜ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function generateFallbackLogo(clubName) {
            const initials = clubName.split(' ')
                .map(word => word.charAt(0))
                .join('')
                .substring(0, 2)
                .toUpperCase();

            // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ¥ÿπÿßÿ± ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä ŸÖÿ≠ÿ≥ŸÜ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
            return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&size=400&background=1a1a2e&color=ffd700&bold=true&format=png&rounded=true&font-size=0.6&cache=${Date.now()}`;
        }

        // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿ¥ÿπÿßÿ± ÿßŸÑŸÜÿßÿØŸä - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function findClubLogo(clubName) {
            if (!clubName) return null;

            // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠ÿßŸã
            if (window.universalLogoFix && window.universalLogoFix.isInitialized) {
                return window.universalLogoFix.findClubLogo(clubName);
            }

            // ÿßŸÑÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ™ŸÇŸÑŸäÿØŸäÿ© ŸÉÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä
            try {
                // ÿßŸÑÿ®ÿ≠ÿ´ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™
                const clubManagerData = localStorage.getItem('clubManagerData');
                const verifiedClubs = localStorage.getItem('verifiedClubs');

                let logoDatabase = [];

                // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ clubManagerData
                if (clubManagerData) {
                    try {
                        const data = JSON.parse(clubManagerData);
                        logoDatabase = logoDatabase.concat(data);
                    } catch (e) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ clubManagerData:', e);
                    }
                }

                // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ verifiedClubs
                if (verifiedClubs) {
                    try {
                        const data = JSON.parse(verifiedClubs);
                        logoDatabase = logoDatabase.concat(data);
                    } catch (e) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ verifiedClubs:', e);
                    }
                }

                // ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ±
                const club = logoDatabase.find(c =>
                    c.englishName === clubName ||
                    c.arabicName === clubName ||
                    c.name === clubName
                );

                if (club && club.logoUrl) {
                    return club.logoUrl;
                }

                // ÿßŸÑÿ®ÿ≠ÿ´ ÿ®ÿØŸàŸÜ FC
                const cleanName = clubName.replace(/\s+FC$/, '').replace(/\s+Football Club$/, '');
                const clubWithoutFC = logoDatabase.find(c => {
                    const cleanEnglish = (c.englishName || '').replace(/\s+FC$/, '').replace(/\s+Football Club$/, '');
                    const cleanArabic = (c.arabicName || '').replace(/\s+FC$/, '').replace(/\s+Football Club$/, '');
                    return cleanEnglish === cleanName || cleanArabic === cleanName;
                });

                if (clubWithoutFC && clubWithoutFC.logoUrl) {
                    return clubWithoutFC.logoUrl;
                }

                // ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä
                const searchName = clubName.toLowerCase();
                const smartMatch = logoDatabase.find(c => {
                    const englishName = (c.englishName || '').toLowerCase();
                    const arabicName = (c.arabicName || '').toLowerCase();
                    const name = (c.name || '').toLowerCase();

                    return englishName.includes(searchName) ||
                           searchName.includes(englishName) ||
                           arabicName.includes(searchName) ||
                           name.includes(searchName);
                });

                if (smartMatch && smartMatch.logoUrl) {
                    return smartMatch.logoUrl;
                }

                // ÿßŸÑÿ®ÿ≠ÿ´ ÿ®ÿßŸÑŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖŸÅÿ™ÿßÿ≠Ÿäÿ©
                const keywords = clubName.toLowerCase().split(' ').filter(word => word.length > 2);
                for (const keyword of keywords) {
                    const keywordMatch = logoDatabase.find(c => {
                        const englishName = (c.englishName || '').toLowerCase();
                        const arabicName = (c.arabicName || '').toLowerCase();
                        const name = (c.name || '').toLowerCase();

                        return englishName.includes(keyword) ||
                               arabicName.includes(keyword) ||
                               name.includes(keyword);
                    });

                    if (keywordMatch && keywordMatch.logoUrl) {
                        return keywordMatch.logoUrl;
                    }
                }

                return null;
            } catch (error) {
                console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑÿ¥ÿπÿßÿ±:', error);
                return null;
            }
        }

        // ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑŸÜÿßÿØŸä ÿßŸÑÿ™ÿßŸÑŸä - ŸÖÿ≠ÿ≥ŸÜ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function nextClub() {
            if (!clubs || clubs.length === 0) {
                console.warn('‚ö†Ô∏è ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÜÿØŸäÿ© ŸÑŸÑÿπÿ±ÿ∂');
                return;
            }

            try {
                currentClubIndex = (currentClubIndex + 1) % clubs.length;
                displayCurrentClub();
                console.log(`üîÑ ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑŸÜÿßÿØŸä ${currentClubIndex + 1}/${clubs.length}`);
            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑŸÜÿßÿØŸä ÿßŸÑÿ™ÿßŸÑŸä:', error);
            }
        }

        // ÿ®ÿØÿ° ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function startAutoDisplay() {
            if (displayInterval) {
                clearInterval(displayInterval);
            }

            displayCurrentClub();

            // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÜÿßÿØŸä ŸÉŸÑ 5 ÿ´ŸàÿßŸÜŸç ŸÖÿπ ÿ™ÿ≠ÿ≥ŸäŸÜ ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
            displayInterval = setInterval(() => {
                try {
                    nextClub();
                } catch (error) {
                    console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÜÿßÿØŸä:', error);
                    // ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©
                    setTimeout(() => {
                        nextClub();
                    }, 1000);
                }
            }, 5000);

            console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä');
        }

        // ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function stopAutoDisplay() {
            if (displayInterval) {
                clearInterval(displayInterval);
                displayInterval = null;
                console.log('‚è∏Ô∏è ÿ™ŸÖ ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä');
            }
        }

        // ÿ•ÿ∏Ÿáÿßÿ±/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function showLoading(show = true) {
            try {
                const loadingSection = document.getElementById('loadingSection');
                const clubDisplay = document.getElementById('clubDisplay');
                const errorSection = document.getElementById('errorSection');

                if (show) {
                    loadingSection.style.display = 'flex';
                    clubDisplay.style.display = 'none';
                    errorSection.style.display = 'none';
                    console.log('‚è≥ ÿ•ÿ∏Ÿáÿßÿ± ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ');
                } else {
                    loadingSection.style.display = 'none';
                    clubDisplay.style.display = 'flex';
                    errorSection.style.display = 'none';
                    console.log('‚úÖ ÿ•ÿÆŸÅÿßÿ° ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ');
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ∏Ÿáÿßÿ±/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ:', error);
            }
        }

        // ÿ•ÿ∏Ÿáÿßÿ± ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function showError(message = 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™') {
            try {
                const errorSection = document.getElementById('errorSection');
                const loadingSection = document.getElementById('loadingSection');
                const clubDisplay = document.getElementById('clubDisplay');

                errorSection.style.display = 'block';
                errorSection.querySelector('p').textContent = message;
                loadingSection.style.display = 'none';
                clubDisplay.style.display = 'none';

                console.error('‚ùå ÿÆÿ∑ÿ£:', message);
            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ∏Ÿáÿßÿ± ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£:', error);
            }
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ŸÜÿ∏ÿßŸÖ ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS ŸÖÿπ ÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
        async function loadData(forceRefresh = true) {
            // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπŸÑŸÖÿ© ÿ•ÿ¨ÿ®ÿßÿ± ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ŸÖÿπ ÿ∑ÿßÿ®ÿπ ÿ≤ŸÖŸÜŸä ŸÅÿ±ŸäÿØ
            const timestamp = Date.now();
            const url = 'transfermarkt-real-data.html' + (forceRefresh ? '?force=' + timestamp + '&cache=' + Math.random() : '');
            console.log('üöÄ ÿ®ÿØÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');
            console.log('üìä ŸÅÿ≠ÿµ ŸÖÿµÿßÿØÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©...');

            // ŸÅŸä OBS: ÿ®ÿØŸÑÿßŸã ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿ® ÿßŸÑŸÖÿ®ÿßÿ¥ÿ±ÿå ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ£ÿ≥ŸÑŸàÿ® Bridge ŸÑÿ∂ŸÖÿßŸÜ ÿßŸÑÿ™ŸàÿßŸÅŸÇ ÿ®ÿØŸàŸÜ localStorage ŸàŸÑÿß proxies
            try {
                const ua = navigator.userAgent.toLowerCase();
                const isOBS = ua.includes('obs') || ua.includes('cef') || !!window.obsstudio;
                if (isOBS) {
                    console.log('üß© OBS detected: ÿ™ÿ¥ÿ∫ŸäŸÑ Bridge ŸÖÿ∂ŸÖŸëŸÜ ÿØÿßÿÆŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©...');
                    await runEmbeddedBridge();
                    return; // ÿ≥ŸäŸÇŸàŸÖ bridge ÿ®ŸÜÿØÿßÿ° display ÿ®ŸÖÿ¨ÿ±ÿØ ŸàÿµŸàŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                }
            } catch (e) {
                console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑ ÿ™ŸÅÿπŸäŸÑ Bridge:', e.message);
            }

            // Bridge ÿßŸÑŸÖÿ∂ŸÖŸëŸÜ ÿØÿßÿÆŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© (ŸäÿπŸÖŸÑ ŸÅŸÇÿ∑ ÿØÿßÿÆŸÑ OBS)
            async function runEmbeddedBridge() {
                return new Promise((resolve, reject) => {
                    try {
                        const iframe = document.createElement('iframe');
                        iframe.src = '/obs-new-tols/transfermarkt-real-data.html?embed=1&_=' + Date.now();
                        iframe.style.width = '1px';
                        iframe.style.height = '1px';
                        iframe.style.opacity = '0';
                        iframe.style.position = 'absolute';
                        iframe.style.pointerEvents = 'none';
                        document.body.appendChild(iframe);

                        const onMsg = async (event) => {
                            try {
                                const data = event.data;
                                if (!data || typeof data !== 'object') return;
                                if (data.type === 'REAL_DATA_UPDATED' && data.payload && data.payload.clubs) {
                                    window.removeEventListener('message', onMsg);
                                    console.log('‚úÖ Bridge: ÿßÿ≥ÿ™ŸÇÿ®ŸÑŸÜÿß ÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ŸÇŸäŸÇŸäÿ© ÿ®ÿπÿØÿØ:', data.payload.clubs.length);
                                    clubs = data.payload.clubs;
                                    showLoading(false);
                                    updateDataTimestamp();
                                    startAutoDisplay();
                                    resolve();
                                }
                            } catch (e) {
                                console.warn('‚ö†Ô∏è Bridge: ÿ±ÿ≥ÿßŸÑÿ© ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ÿ©:', e.message);
                            }
                        };
                        window.addEventListener('message', onMsg);

                        // ÿ∑ŸÑÿ® ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿ≠ÿßŸÑ ŸÑŸÖ ÿ™Ÿèÿ±ÿ≥ŸÑ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã
                        setTimeout(() => {
                            try {
                                iframe.contentWindow.postMessage({ type: 'REQUEST_REAL_DATA' }, '*');
                                console.log('üì® Bridge: ÿ∑ŸÑÿ® ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ IFRAME');
                            } catch {}
                        }, 1500);

                        // ŸÖŸáŸÑÿ© ÿ£ŸÖÿßŸÜ
                        setTimeout(() => {
                            window.removeEventListener('message', onMsg);
                            reject(new Error('Bridge timeout'));
                        }, 15000);
                    } catch (err) {
                        reject(err);
                    }
                });
            }

            showLoading(true);

            // ÿ™ÿ£ÿÆŸäÿ± ŸÇÿµŸäÿ± ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ŸÅŸä OBS
            await new Promise(resolve => setTimeout(resolve, 500));

            // ÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© OBS: ÿ•ÿ∂ÿßŸÅÿ© headers ŸÑŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
            if (forceRefresh) {
                // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™ ŸÑŸÑŸÖÿ™ÿµŸÅÿ≠
                try {
                    if ('caches' in window) {
                        const cacheNames = await caches.keys();
                        await Promise.all(
                            cacheNames.map(cacheName => caches.delete(cacheName))
                        );
                        console.log('üßπ ÿ™ŸÖ ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™ ŸÑŸÑŸÖÿ™ÿµŸÅÿ≠');
                    }
                } catch (error) {
                    console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™:', error);
                }
            }

            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÉŸÑ ÿØŸÇŸäŸÇÿ™ŸäŸÜ ŸÖÿπ ŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
            if (!window.dataUpdateInterval) {
                window.dataUpdateInterval = setInterval(() => {
                    console.log('üîÑ ÿ™ÿ≠ÿØŸäÿ´ ÿØŸàÿ±Ÿä ŸÑŸÑÿ®ŸäÿßŸÜÿßÿ™...');
                    loadData(true);
                }, 2 * 60 * 1000);
            }

            // ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ŸÉÿßŸÖŸÑÿ© ŸÑŸÑÿµŸÅÿ≠ÿ© ŸÉŸÑ 30 ÿØŸÇŸäŸÇÿ© ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
            if (!window.pageReloadInterval) {
                window.pageReloadInterval = setInterval(() => {
                    console.log('üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© ŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');
                    // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπŸÑŸÖÿ© ŸÑŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™ ŸÅŸä OBS
                    window.location.href = window.location.href.split('?')[0] + '?refresh=' + Date.now();
                }, 30 * 60 * 1000);
            }

            // ŸÅÿ≠ÿµ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©
            const realData = localStorage.getItem('transfermarktRealData');
            const oldData = localStorage.getItem('transfermarktData');

            if (realData) {
                console.log('‚úÖ ŸäŸàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä transfermarktRealData');
            } else {
                console.log('‚ùå ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä transfermarktRealData');
            }

            if (oldData) {
                console.log('‚úÖ ŸäŸàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä transfermarktData');
            } else {
                console.log('‚ùå ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä transfermarktData');
            }

            try {
                // ŸÜÿ∏ÿßŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ŸàÿßŸÑŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
                console.log('üîß ÿ®ÿØÿ° ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ...');

                // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿµÿßÿØÿ± ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©
                let dataLoaded = false;

                // 1. ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ transfermarktRealData (ÿßŸÑÿ£ŸàŸÑŸàŸäÿ© ÿßŸÑÿ£ŸàŸÑŸâ)
                if (!dataLoaded) {
                    const realData = localStorage.getItem('transfermarktRealData');
                    if (realData) {
                        try {
                            const data = JSON.parse(realData);
                            console.log('üìä ÿ®ŸäÿßŸÜÿßÿ™ transfermarktRealData:', data);

                            if (data.clubs && Array.isArray(data.clubs) && data.clubs.length > 0) {
                                clubs = await enrichClubsWithLogos(data.clubs);
                                console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${clubs.length} ŸÜÿßÿØŸä ŸÖŸÜ transfermarktRealData`);

                                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿπŸÖÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                                if (data.lastUpdate) {
                                    const updateTime = new Date(data.lastUpdate);
                                    const now = new Date();
                                    const diffMinutes = Math.floor((now - updateTime) / (1000 * 60));

                                    console.log(`üìÖ ÿπŸÖÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: ${diffMinutes} ÿØŸÇŸäŸÇÿ©`);
                                }

                                dataLoaded = true;
                                console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ transfermarktRealData');
                            }
                        } catch (error) {
                            console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ transfermarktRealData:', error);
                        }
                    }
                }

                // 2. ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ transfermarktData (ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä)
                if (!dataLoaded) {
                    const savedData = localStorage.getItem('transfermarktData');
                    if (savedData) {
                        try {
                            const data = JSON.parse(savedData);
                            console.log('üìä ÿ®ŸäÿßŸÜÿßÿ™ transfermarktData:', data);

                            if (Array.isArray(data) && data.length > 0) {
                                clubs = await enrichClubsWithLogos(data);
                                console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${clubs.length} ŸÜÿßÿØŸä ŸÖŸÜ transfermarktData`);

                                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿπŸÖÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                                const lastUpdate = localStorage.getItem('transfermarktLastUpdate');
                                if (lastUpdate) {
                                    const updateTime = new Date(lastUpdate);
                                    const now = new Date();
                                    const diffMinutes = Math.floor((now - updateTime) / (1000 * 60));

                                    console.log(`üìÖ ÿπŸÖÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: ${diffMinutes} ÿØŸÇŸäŸÇÿ©`);
                                }

                                dataLoaded = true;
                                console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ transfermarktData');
                            }
                        } catch (error) {
                            console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ transfermarktData:', error);
                        }
                    }
                }

                // 3. ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÜÿ∏ŸÖÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© - ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÅŸÇÿ∑
                // ÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© ŸÑÿ∂ŸÖÿßŸÜ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ÿ≠ÿµÿ±ŸäÿßŸã

                // 5. ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿ£Ÿä ÿ®ŸäÿßŸÜÿßÿ™ÿå ÿπÿ±ÿ∂ ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ Ÿàÿßÿ∂ÿ≠ÿ©
                if (!dataLoaded) {
                    console.error('‚ùå ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ŸÇŸäŸÇŸäÿ©!');
                    showError(`
‚ùå ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ŸÇŸäŸÇŸäÿ©!

Ÿäÿ±ÿ¨Ÿâ ÿßÿ™ÿ®ÿßÿπ ÿßŸÑÿÆÿ∑Ÿàÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸäÿ©:

1. ÿßŸÅÿ™ÿ≠ ÿµŸÅÿ≠ÿ© ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:
   http://localhost:8201/obs-new-tols/transfermarkt-real-data.html

2. ÿßÿ∂ÿ∫ÿ∑ "ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¢ŸÜ" ŸÑÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©

3. ÿßŸÜÿ™ÿ∏ÿ± ÿ≠ÿ™Ÿâ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨

4. ÿπÿØ ÿ•ŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ© Ÿàÿ£ÿπÿØ ÿ™ÿ≠ŸÖŸäŸÑŸáÿß

ŸÖŸÑÿßÿ≠ÿ∏ÿ©: Ÿáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ© ÿ™ÿπÿ±ÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÅŸÇÿ∑ ŸÖŸÜ transfermarkt-real-data.html
                    `);

                    throw new Error('ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ŸÇŸäŸÇŸäÿ© ŸÖÿ™ÿßÿ≠ÿ©');
                }

                // ÿπÿ±ÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©
                if (dataLoaded && clubs && clubs.length > 0) {
                    console.log(`üéâ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${clubs.length} ŸÜÿßÿØŸä ÿ®ŸÜÿ¨ÿßÿ≠!`);

                    // ÿ™ÿ£ÿÆŸäÿ± ŸÇÿµŸäÿ± ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ŸÅŸä OBS
                    await new Promise(resolve => setTimeout(resolve, 300));

                    showLoading(false);
                    updateDataTimestamp();
                    startAutoDisplay();
                } else {
                    throw new Error('ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ£Ÿä ÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ™ÿßÿ≠ÿ©');
                }

            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error.message);
                showError('ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: ' + error.message + '\n\nŸäÿ±ÿ¨Ÿâ:\n1. ŸÅÿ™ÿ≠ ÿµŸÅÿ≠ÿ© ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ£ŸàŸÑÿßŸã\n2. ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ Transfermarkt\n3. ÿßŸÑÿπŸàÿØÿ© ŸÑŸáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ©');
            }
        }

        // ÿ±ÿ®ÿ∑ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ ÿ®ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        async function enrichClubsWithLogos(clubsData) {
            if (!clubsData || clubsData.length === 0) {
                return [];
            }

            console.log('üé® ÿ®ÿØÿ° ÿ±ÿ®ÿ∑ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ ÿ®ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');

            try {
                // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠ÿßŸã
                if (window.universalLogoFix && window.universalLogoFix.isInitialized) {
                    console.log('üîÑ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™...');
                    return window.universalLogoFix.enrichWithLogos(clubsData);
                }

                // ÿßŸÑÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ™ŸÇŸÑŸäÿØŸäÿ© ŸÉÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä
                console.log('üîÑ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ™ŸÇŸÑŸäÿØŸäÿ© ŸÑÿ±ÿ®ÿ∑ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™...');

                // ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™
                const logoDatabase = await loadLogoDatabase();

                const enrichedClubs = [];

                for (const club of clubsData) {
                    try {
                        // ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ÿßŸÑÿ¥ÿπÿßÿ±
                        let logoUrl = club.logoUrl || club.logo;

                        if (!logoUrl) {
                            logoUrl = findClubLogo(club.englishName || club.arabicName || club.name);
                        }

                        // ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ¥ÿπÿßÿ± ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
                        const finalLogoUrl = logoUrl || generateFallbackLogo(club.englishName || club.arabicName || club.name);

                        const enrichedClub = {
                            ...club,
                            logoUrl: finalLogoUrl
                        };

                        enrichedClubs.push(enrichedClub);
                        console.log(`üé® ÿ±ÿ®ÿ∑ ÿ¥ÿπÿßÿ± ${club.englishName || club.arabicName || club.name}: ${logoUrl ? '‚úÖ ŸÖŸàÿ¨ŸàÿØ' : '‚ö†Ô∏è ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä'}`);

                    } catch (error) {
                        console.warn(`‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ±ÿ®ÿ∑ ÿ¥ÿπÿßÿ± ${club.englishName || club.arabicName || club.name}:`, error);

                        enrichedClubs.push({
                            ...club,
                            logoUrl: generateFallbackLogo(club.englishName || club.arabicName || club.name)
                        });
                    }
                }

                console.log(`‚úÖ ÿ™ŸÖ ÿ±ÿ®ÿ∑ ${enrichedClubs.length} ÿ¥ÿπÿßÿ± ÿ®ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™`);
                return enrichedClubs;
            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ±ÿ®ÿ∑ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™:', error);

                // ÿ•ÿ±ÿ¨ÿßÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ÿØŸàŸÜ ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£
                return clubsData.map(club => ({
                    ...club,
                    logoUrl: generateFallbackLogo(club.englishName || club.arabicName || club.name)
                }));
            }
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        async function loadLogoDatabase() {
            try {
                console.log('üìä ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™...');

                const clubManagerData = localStorage.getItem('clubManagerData');
                const verifiedClubs = localStorage.getItem('verifiedClubs');

                let logoDatabase = [];

                // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ clubManagerData
                if (clubManagerData) {
                    try {
                        const data = JSON.parse(clubManagerData);
                        if (Array.isArray(data)) {
                            logoDatabase = logoDatabase.concat(data);
                            console.log(`üì• ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${data.length} ŸÜÿßÿØŸä ŸÖŸÜ clubManagerData`);
                        }
                    } catch (e) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ clubManagerData:', e);
                    }
                }

                // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÜ verifiedClubs
                if (verifiedClubs) {
                    try {
                        const data = JSON.parse(verifiedClubs);
                        if (Array.isArray(data)) {
                            logoDatabase = logoDatabase.concat(data);
                            console.log(`üì• ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${data.length} ŸÜÿßÿØŸä ŸÖŸÜ verifiedClubs`);
                        }
                    } catch (e) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ verifiedClubs:', e);
                    }
                }

                // ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ™ŸÉÿ±ÿßÿ±ÿßÿ™
                const uniqueClubs = logoDatabase.filter((club, index, self) =>
                    index === self.findIndex(c =>
                        c.englishName === club.englishName ||
                        c.arabicName === club.arabicName ||
                        c.name === club.name
                    )
                );

                console.log(`‚úÖ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ ÿ¨ÿßŸáÿ≤ÿ©: ${uniqueClubs.length} ŸÜÿßÿØŸä`);
                return uniqueClubs;

            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™:', error);
                return [];
            }
        }

        // ŸÖÿ±ÿßŸÇÿ®ÿ© ÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ localStorage - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function setupStorageListener() {
            console.log('üîß ÿ•ÿπÿØÿßÿØ ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ÿßÿ™...');

            // ŸÖÿ±ÿßŸÇÿ®ÿ© ÿ™ÿ∫ŸäŸäÿ±ÿßÿ™ localStorage (ŸÑŸÑÿµŸÅÿ≠ÿßÿ™ ÿßŸÑŸÖÿÆÿ™ŸÑŸÅÿ©)
            window.addEventListener('storage', function(event) {
                if (event.key === 'transfermarktRealData' || event.key === 'transfermarktData') {
                    console.log('üîÑ ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿ™ÿ≠ÿØŸäÿ´ ŸÅŸä ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ÿµŸÅÿ≠ÿ© ÿ£ÿÆÿ±Ÿâ:', event.key);

                    // ÿ™ÿ£ÿÆŸäÿ± ŸÇÿµŸäÿ± ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ≠ŸÅÿ∏
                    setTimeout(() => {
                        loadData();
                    }, 500);
                }
            });

            // ŸÖÿ±ÿßŸÇÿ®ÿ© BroadcastChannel ŸÑŸÑÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ (ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿØÿπŸàŸÖÿßŸã)
            if ('BroadcastChannel' in window) {
                try {
                    const channel = new BroadcastChannel('transfermarkt-updates');
                    channel.addEventListener('message', function(event) {
                        if (event.data.type === 'data-updated' || event.data.type === 'data-saved') {
                            console.log('üîÑ ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿ™ÿ≠ÿØŸäÿ´ ÿπÿ®ÿ± BroadcastChannel:', event.data);

                            setTimeout(() => {
                                loadData();
                            }, 500);
                        }
                    });
                    console.log('‚úÖ ÿ™ŸÖ ÿ•ÿπÿØÿßÿØ BroadcastChannel');
                } catch (error) {
                    console.warn('‚ö†Ô∏è BroadcastChannel ÿ∫Ÿäÿ± ŸÖÿØÿπŸàŸÖ:', error);
                }
            } else {
                console.warn('‚ö†Ô∏è BroadcastChannel ÿ∫Ÿäÿ± ŸÖÿØÿπŸàŸÖ ŸÅŸä Ÿáÿ∞ÿß ÿßŸÑŸÖÿ™ÿµŸÅÿ≠');
            }

            // ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™ ŸÅŸä ŸÜŸÅÿ≥ ÿßŸÑÿµŸÅÿ≠ÿ© (ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS)
            try {
                const originalSetItem = localStorage.setItem;
                localStorage.setItem = function(key, value) {
                    originalSetItem.apply(this, arguments);
                    if (key === 'transfermarktRealData' || key === 'transfermarktData') {
                        console.log('üîÑ ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ®ŸäÿßŸÜÿßÿ™ ÿ¨ÿØŸäÿØÿ© ŸÅŸä ŸÜŸÅÿ≥ ÿßŸÑÿµŸÅÿ≠ÿ©:', key);

                        // ÿ™ÿ£ÿÆŸäÿ± ÿ£ÿ∑ŸàŸÑ ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ≠ŸÅÿ∏ ŸÅŸä OBS
                        setTimeout(() => {
                            loadData();
                        }, 1000);
                    }
                };
                console.log('‚úÖ ÿ™ŸÖ ÿ•ÿπÿØÿßÿØ ŸÖÿ±ÿßŸÇÿ®ÿ© localStorage ÿßŸÑŸÖÿ≠ÿ≥ŸÜÿ©');
            } catch (error) {
                console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿπÿØÿßÿØ ŸÖÿ±ÿßŸÇÿ®ÿ© localStorage:', error);
            }

            // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ±ÿßŸÇÿ®ÿ© ÿØŸàÿ±Ÿäÿ© ŸÖÿ≠ÿ≥ŸÜÿ© ŸÑŸÑÿ®ŸäÿßŸÜÿßÿ™ (ŸÑŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS)
            if (!window.obsDataMonitor) {
                window.obsDataMonitor = setInterval(() => {
                    const realData = localStorage.getItem('transfermarktRealData');
                    const lastCheck = localStorage.getItem('lastDataCheck');

                    if (realData && realData !== lastCheck) {
                        console.log('üîÑ ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿ™ÿ≠ÿØŸäÿ´ ŸÅŸä ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿπÿ®ÿ± ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿØŸàÿ±Ÿäÿ©');
                        localStorage.setItem('lastDataCheck', realData);

                        // ÿ™ÿ£ÿÆŸäÿ± ÿ•ÿ∂ÿßŸÅŸä ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ≠ŸÅÿ∏ ŸÅŸä OBS
                        setTimeout(() => {
                            loadData(true);
                        }, 1500);
                    }

                    // ŸÅÿ≠ÿµ ÿ•ÿ∂ÿßŸÅŸä ŸÑÿ≠ÿßŸÑÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                    try {
                        const data = JSON.parse(realData || '{}');
                        if (data.clubs && data.clubs.length > 0) {
                            const lastUpdate = new Date(data.lastUpdate || 0);
                            const now = new Date();
                            const diffMinutes = Math.floor((now - lastUpdate) / (1000 * 60));

                            // ÿ•ÿ∞ÿß ŸÉÿßŸÜÿ™ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿØŸäŸÖÿ© ÿ¨ÿØÿßŸã (ÿ£ŸÉÿ´ÿ± ŸÖŸÜ ÿ≥ÿßÿπÿ©)ÿå ÿ£ÿπÿØ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
                            if (diffMinutes > 60) {
                                console.log('‚ö†Ô∏è ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÇÿØŸäŸÖÿ©ÿå ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ...');
                                loadData(true);
                            }
                        }
                    } catch (error) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ŸÅÿ≠ÿµ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);
                    }
                }, 3000); // ŸÅÿ≠ÿµ ŸÉŸÑ 3 ÿ´ŸàÿßŸÜŸç
            }

            console.log('‚úÖ ÿ™ŸÖ ÿ•ŸÉŸÖÿßŸÑ ÿ•ÿπÿØÿßÿØ ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ÿßÿ™');
        }

        // ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        function setupKeyboardControls() {
            document.addEventListener('keydown', function(event) {
                // ŸÖŸÜÿπ ÿßŸÑÿ≥ŸÑŸàŸÉ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä ŸÑŸÑŸÖŸÅÿßÿ™Ÿäÿ≠
                if (['ArrowRight', 'ArrowLeft', ' ', 'r', 'R', 'p', 'P'].includes(event.key)) {
                    event.preventDefault();
                }

                switch(event.key) {
                    case 'ArrowRight':
                    case ' ':
                        nextClub();
                        break;
                    case 'ArrowLeft':
                        currentClubIndex = currentClubIndex > 0 ? currentClubIndex - 1 : clubs.length - 1;
                        displayCurrentClub();
                        break;
                    case 'r':
                    case 'R':
                        console.log('üîÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸäÿØŸàŸäÿßŸã...');
                        loadData();
                        break;
                    case 'p':
                    case 'P':
                        if (displayInterval) {
                            stopAutoDisplay();
                            console.log('‚è∏Ô∏è ÿ™ŸÖ ÿ•ŸäŸÇÿßŸÅ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä');
                        } else {
                            startAutoDisplay();
                            console.log('‚ñ∂Ô∏è ÿ™ŸÖ ÿßÿ≥ÿ™ÿ¶ŸÜÿßŸÅ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä');
                        }
                        break;
                }
            });

            console.log('‚å®Ô∏è ÿ™ŸÖ ÿ•ÿπÿØÿßÿØ ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠');
        }

        // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπŸÑŸÖÿ© ŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
        const cacheBuster = '?v=' + new Date().getTime();

        // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS ŸÖÿπ ÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üöÄ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿµŸÅÿ≠ÿ© ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÅŸä', new Date().toLocaleString());
            console.log('üîß ÿ•ÿπÿØÿßÿØ ÿßŸÑÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS...');

            // ÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© OBS: ŸÅÿ≠ÿµ ŸÖÿπŸÑŸÖÿßÿ™ URL ŸÑŸÑÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ¨ÿ®ÿßÿ±Ÿä
            const urlParams = new URLSearchParams(window.location.search);
            const forceRefresh = urlParams.has('refresh') || urlParams.has('force') || urlParams.has('cache');

            if (forceRefresh) {
                console.log('üîÑ ÿ™ŸÖ ÿ∑ŸÑÿ® ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ¨ÿ®ÿßÿ±Ÿä ŸÑŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ OBS');
                // ŸÖÿ≥ÿ≠ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ŸÅŸàÿ∏ÿ© ŸÑÿ•ÿ¨ÿ®ÿßÿ± ÿßŸÑÿ™ÿ≠ÿØŸäÿ´
                localStorage.removeItem('lastDataCheck');

                // ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™ ÿ•ÿ∞ÿß ÿ£ŸÖŸÉŸÜ
                try {
                    if ('caches' in window) {
                        caches.keys().then(cacheNames => {
                            cacheNames.forEach(cacheName => {
                                caches.delete(cacheName);
                            });
                        });
                    }
                } catch (error) {
                    console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™:', error);
                }
            }

            // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπŸÑŸÖÿ© ŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™ ŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿµŸàÿ±
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                if (img.src && !img.src.includes('cache=')) {
                    img.src += (img.src.includes('?') ? '&' : '?') + 'cache=' + Date.now();
                }
            });

            // ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿµŸàÿ± ÿßŸÑÿ¨ÿØŸäÿØÿ© ŸÑŸÖŸÜÿπ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑŸÖÿ§ŸÇÿ™
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    mutation.addedNodes.forEach(function(node) {
                        if (node.nodeType === 1 && node.tagName === 'IMG') {
                            if (node.src && !node.src.includes('cache=')) {
                                node.src += (node.src.includes('?') ? '&' : '?') + 'cache=' + Date.now();
                            }
                        }
                    });
                });
            });
            observer.observe(document.body, { childList: true, subtree: true });

            try {
                // ÿ™ŸáŸäÿ¶ÿ© ÿ®ÿ≥Ÿäÿ∑ÿ© ŸàŸÖÿ™ŸàÿßŸÅŸÇÿ© ŸÖÿπ OBS
                console.log('üîÑ ÿ®ÿØÿ° ÿßŸÑÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿ®ÿ≥Ÿäÿ∑ÿ©...');

                // ÿ™ŸáŸäÿ¶ÿ© ŸÖÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠ÿßŸã
                if (typeof TransfermarktDataManager !== 'undefined') {
                    try {
                        console.log('üîÑ ÿ™ŸáŸäÿ¶ÿ© ŸÖÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');
                        const dataManager = new TransfermarktDataManager();
                        await dataManager.ensureDefaultClubs();
                        console.log('‚úÖ ÿ™ŸÖ ÿ™ŸáŸäÿ¶ÿ© ŸÖÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');
                    } catch (error) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ŸÖÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error.message);
                    }
                } else {
                    console.warn('‚ö†Ô∏è ŸÖÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠');
                }

                // ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠ÿßŸã
                if (window.universalLogoFix) {
                    try {
                        if (!window.universalLogoFix.isInitialized) {
                            console.log('üîÑ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™...');
                            await window.universalLogoFix.init();
                            console.log('‚úÖ ÿ™ŸÖ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™');
                        } else {
                            console.log('‚úÖ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÖÿ™ŸáŸäÿ£ ÿ®ÿßŸÑŸÅÿπŸÑ');
                        }
                    } catch (error) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™:', error.message);
                    }
                } else {
                    console.warn('‚ö†Ô∏è ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßŸÑÿ¥ÿπÿßÿ±ÿßÿ™ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠');
                }

                // ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿ™ÿßÿ≠ÿßŸã
                if (window.transfermarktSystem) {
                    try {
                        if (!window.transfermarktSystem.isInitialized) {
                            console.log('üîÑ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ...');
                            await window.transfermarktSystem.init();
                            console.log('‚úÖ ÿ™ŸÖ ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ');
                        } else {
                            console.log('‚úÖ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÖÿ™ŸáŸäÿ£ ÿ®ÿßŸÑŸÅÿπŸÑ');
                        }
                    } catch (error) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ:', error.message);
                    }
                } else {
                    console.warn('‚ö†Ô∏è ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖŸàÿ≠ÿØ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠');
                }

                console.log('‚úÖ ÿ™ŸÖ ÿ•ŸÉŸÖÿßŸÑ ÿßŸÑÿ™ŸáŸäÿ¶ÿ© ÿßŸÑÿ®ÿ≥Ÿäÿ∑ÿ©');

                // ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿßŸÑÿ≥ÿ±Ÿäÿπ
                if (window.quickFixSystem) {
                    try {
                        console.log('üîÑ ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿßŸÑÿ≥ÿ±Ÿäÿπ...');
                        await window.quickFixSystem.init();
                        console.log('‚úÖ ÿ™ŸÖ ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿßŸÑÿ≥ÿ±Ÿäÿπ');
                    } catch (error) {
                        console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿßŸÑÿ≥ÿ±Ÿäÿπ:', error.message);
                    }
                }

                // ÿ•ÿπÿØÿßÿØ ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ© ŸàÿßŸÑÿ™ÿ≠ŸÉŸÖ
                setupStorageListener();
                setupKeyboardControls();

                // ÿ™ÿ£ÿÆŸäÿ± ŸÇÿµŸäÿ± ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿ™ŸáŸäÿ¶ÿ© ŸÅŸä OBS
                setTimeout(() => {
                    // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿπ ÿ•ÿ¨ÿ®ÿßÿ± ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ∞ÿß ŸÑÿ≤ŸÖ ÿßŸÑÿ£ŸÖÿ±
                    loadData(forceRefresh || true);
                }, 1500);

                console.log('‚å®Ô∏è ÿßŸÑÿ™ÿ≠ŸÉŸÖ: ŸÖÿ≥ÿßŸÅÿ©/ÿ≥ŸáŸÖ ŸäŸÖŸäŸÜ = ÿßŸÑÿ™ÿßŸÑŸäÿå ÿ≥ŸáŸÖ Ÿäÿ≥ÿßÿ± = ÿßŸÑÿ≥ÿßÿ®ŸÇÿå R = ÿ™ÿ≠ÿØŸäÿ´ÿå P = ÿ•ŸäŸÇÿßŸÅ/ÿ™ÿ¥ÿ∫ŸäŸÑ');
                console.log('üîß ÿßŸÑŸÜÿ∏ÿßŸÖ ÿ¨ÿßŸáÿ≤ ŸÑŸÑÿπŸÖŸÑ ŸÖÿπ OBS');

            } catch (error) {
                console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ:', error);

                // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ÿ™Ÿâ ŸÑŸà ŸÅÿ¥ŸÑÿ™ ÿßŸÑÿ™ŸáŸäÿ¶ÿ©
                try {
                    console.log('üîÑ ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ±ÿ∫ŸÖ ŸÅÿ¥ŸÑ ÿßŸÑÿ™ŸáŸäÿ¶ÿ©...');
                    setupStorageListener();
                    setupKeyboardControls();

                    // ÿ™ÿ£ÿÆŸäÿ± ÿ£ÿ∑ŸàŸÑ ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£
                    setTimeout(() => {
                        loadData(true); // ÿ•ÿ¨ÿ®ÿßÿ± ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ŸÅŸä ÿ≠ÿßŸÑÿ© ÿßŸÑÿÆÿ∑ÿ£
                    }, 3000);
                } catch (fallbackError) {
                    console.error('‚ùå ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', fallbackError);
                    showError('ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ: ' + error.message + '\n\nŸäÿ±ÿ¨Ÿâ:\n1. ŸÅÿ™ÿ≠ ÿµŸÅÿ≠ÿ© ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ£ŸàŸÑÿßŸã\n2. ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ Transfermarkt\n3. ÿßŸÑÿπŸàÿØÿ© ŸÑŸáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ©');
                }
            }
        });

        // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑÿπÿßŸÖÿ© - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        window.addEventListener('error', function(event) {
            console.error('‚ùå ÿÆÿ∑ÿ£ JavaScript:', event.error);
            console.error('‚ùå ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿÆÿ∑ÿ£:', {
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno
            });

            // ÿπÿØŸÖ ÿ•ÿ∏Ÿáÿßÿ± ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ ŸÅŸä OBS ŸÑÿ™ÿ¨ŸÜÿ® ÿßŸÑÿ™ÿØÿßÿÆŸÑ
            // showError('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ');
        });

        // ÿ™ŸÜÿ∏ŸäŸÅ ÿπŸÜÿØ ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑÿµŸÅÿ≠ÿ© - ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS
        window.addEventListener('beforeunload', function() {
            try {
                stopAutoDisplay();
                console.log('üßπ ÿ™ŸÖ ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑŸÖŸàÿßÿ±ÿØ ÿπŸÜÿØ ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑÿµŸÅÿ≠ÿ©');
            } catch (error) {
                console.warn('‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑŸÖŸàÿßÿ±ÿØ:', error);
            }
        });

        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿ¨ŸÖŸäÿπ Ÿàÿ∏ÿßÿ¶ŸÅ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÅŸä');
        console.log('üîß ÿßŸÑŸÜÿ∏ÿßŸÖ ŸÖÿ≠ÿ≥ŸÜ ŸàŸÖÿ™ŸàÿßŸÅŸÇ ŸÖÿπ OBS');
        console.log('üìä ÿ¨ÿßŸáÿ≤ ŸÑÿπÿ±ÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿµÿßÿØÿ±');
        console.log('üö´ ÿ™ŸÖ ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑŸàÿßÿ¨Ÿáÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©');
        console.log('üì± ÿßŸÑŸÜÿ∏ÿßŸÖ ŸÖÿ≠ÿ≥ŸÜ ŸÑŸÑÿ®ÿ´ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ± 1920x1080');
    </script>
</body>
</html>
