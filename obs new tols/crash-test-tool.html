<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ Ø£Ø¯Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù† - Crash Test Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
            color: #f8fafc;
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #94a3b8;
            margin-bottom: 2rem;
        }

        .test-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .test-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .test-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #1a1a2e;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 0.5rem;
            font-size: 16px;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .test-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .status {
            padding: 10px 15px;
            border-radius: 8px;
            margin: 0.5rem 0;
            font-weight: bold;
        }

        .status.success {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid #10b981;
            color: #10b981;
        }

        .status.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
            color: #ef4444;
        }

        .status.warning {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid #f59e0b;
            color: #f59e0b;
        }

        .status.info {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid #3b82f6;
            color: #3b82f6;
        }

        .quick-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .quick-link {
            background: linear-gradient(45deg, #3b82f6, #1d4ed8);
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quick-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">ğŸ”§ Ø£Ø¯Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†</h1>
            <p class="subtitle">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ù‚Ø¨Ù„ ÙØªØ­ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø±</p>
        </div>

        <div class="test-section">
            <h2 class="test-title">ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯</h2>
            <button class="test-btn" onclick="testUniversalLogoFix()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯</button>
            <button class="test-btn" onclick="testInitialization()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©</button>
            <button class="test-btn" onclick="testLogoSearch()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª</button>
            <button class="test-btn" onclick="testMemoryUsage()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©</button>
            <div id="universalTestResult" class="result-area"></div>
        </div>

        <div class="test-section">
            <h2 class="test-title">ğŸ” ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>
            <button class="test-btn" onclick="checkLocalStorage()">ÙØ­Øµ localStorage</button>
            <button class="test-btn" onclick="checkDataIntegrity()">ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button class="test-btn" onclick="clearTestData()">Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
            <div id="dataTestResult" class="result-area"></div>
        </div>

        <div class="test-section">
            <h2 class="test-title">ğŸš€ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØµÙØ­Ø§Øª</h2>
            <button class="test-btn" onclick="testPageLoad()">Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª</button>
            <button class="test-btn" onclick="testPerformance()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡</button>
            <div id="pageTestResult" class="result-area"></div>
        </div>

        <div class="quick-links">
            <a href="transfermarkt-real-data.html" class="quick-link" target="_blank">ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©</a>
            <a href="transfermarkt-ultimate-display-fixed.html" class="quick-link" target="_blank">ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</a>
            <a href="instant-logo-fix.html" class="quick-link" target="_blank">Ø£Ø¯Ø§Ø© Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª</a>
            <a href="logo-debug-tool.html" class="quick-link" target="_blank">Ø£Ø¯Ø§Ø© ØªØ´Ø®ÙŠØµ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª</a>
        </div>
    </div>

    <script src="universal-logo-fix.js"></script>
    <script>
        let testResults = [];

        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logMessage = `[${timestamp}] ${message}`;
            testResults.push({ message: logMessage, type });
            console.log(logMessage);
        }

        function displayResults(containerId) {
            const container = document.getElementById(containerId);
            let html = '';
            
            testResults.forEach(result => {
                const statusClass = result.type || 'info';
                html += `<div class="status ${statusClass}">${result.message}</div>`;
            });
            
            container.innerHTML = html;
            container.scrollTop = container.scrollHeight;
        }

        function clearResults() {
            testResults = [];
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯
        async function testUniversalLogoFix() {
            clearResults();
            log('ğŸ§ª Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯...', 'info');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ø¸Ø§Ù…
                if (!window.universalLogoFix) {
                    log('âŒ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                    return;
                }
                log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù…ÙˆØ¬ÙˆØ¯', 'success');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
                if (!window.universalLogoFix.isInitialized) {
                    log('ğŸ”„ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯...', 'warning');
                    await window.universalLogoFix.init();
                }
                log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù…ØªÙ‡ÙŠØ£', 'success');

                // Ø§Ø®ØªØ¨Ø§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const database = window.universalLogoFix.getDatabase();
                log(`ğŸ“Š Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ${database.length} Ù†Ø§Ø¯ÙŠ`, 'info');

                const clubsWithLogos = window.universalLogoFix.getClubsWithLogosCount();
                log(`ğŸ¨ ${clubsWithLogos} Ù†Ø§Ø¯ÙŠ Ù„Ø¯ÙŠÙ‡Ù… Ø´Ø¹Ø§Ø±Ø§Øª`, 'info');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
                const testClub = 'Liverpool FC';
                const logo = window.universalLogoFix.findClubLogo(testClub);
                if (logo) {
                    log(`âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø± ${testClub}`, 'success');
                } else {
                    log(`âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø± ${testClub}`, 'warning');
                }

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯: ${error.message}`, 'error');
            }

            displayResults('universalTestResult');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        async function testInitialization() {
            clearResults();
            log('ğŸ”„ Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©...', 'info');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
                log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰...', 'info');
                await window.universalLogoFix.init();
                log('âœ… Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù†Ø¬Ø­Øª', 'success');

                log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ¬Ø§Ù‡Ù„)...', 'info');
                await window.universalLogoFix.init();
                log('âœ… Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡Ø§ (ØµØ­ÙŠØ­)', 'success');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
                log(`ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: ${window.universalLogoFix.isInitialized}`, 'info');
                log(`ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¬Ø§Ø±ÙŠØ©: ${window.universalLogoFix.isInitializing}`, 'info');

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: ${error.message}`, 'error');
            }

            displayResults('universalTestResult');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
        async function testLogoSearch() {
            clearResults();
            log('ğŸ” Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª...', 'info');

            try {
                const testClubs = [
                    'Liverpool FC',
                    'Chelsea FC',
                    'Real Madrid',
                    'Barcelona',
                    'Manchester United',
                    'Ù†Ø§Ø¯ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯'
                ];

                for (const club of testClubs) {
                    const logo = window.universalLogoFix.findClubLogo(club);
                    if (logo) {
                        log(`âœ… ${club}: ${logo.substring(0, 50)}...`, 'success');
                    } else {
                        log(`âš ï¸ ${club}: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø±`, 'warning');
                    }
                }

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª: ${error.message}`, 'error');
            }

            displayResults('universalTestResult');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©
        async function testMemoryUsage() {
            clearResults();
            log('ğŸ’¾ Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©...', 'info');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ¨ÙŠØ±Ø©
                const largeDataset = Array.from({ length: 1000 }, (_, i) => ({
                    englishName: `Test Club ${i}`,
                    arabicName: `Ù†Ø§Ø¯ÙŠ Ø§Ø®ØªØ¨Ø§Ø± ${i}`,
                    logoUrl: `https://example.com/logo${i}.png`
                }));

                log(`ğŸ“Š Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ¨ÙŠØ±Ø©: ${largeDataset.length} Ù†Ø§Ø¯ÙŠ`, 'info');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø±Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
                const startTime = performance.now();
                const enrichedData = window.universalLogoFix.enrichWithLogos(largeDataset);
                const endTime = performance.now();

                log(`â±ï¸ ÙˆÙ‚Øª Ø±Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª: ${(endTime - startTime).toFixed(2)}ms`, 'info');
                log(`ğŸ“Š Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©: ${enrichedData.length} Ù†Ø§Ø¯ÙŠ`, 'info');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©
                if (performance.memory) {
                    const memory = performance.memory;
                    log(`ğŸ’¾ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©: ${(memory.usedJSHeapSize / 1024 / 1024).toFixed(2)}MB`, 'info');
                    log(`ğŸ’¾ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø°Ø§ÙƒØ±Ø©: ${(memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2)}MB`, 'info');
                }

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©: ${error.message}`, 'error');
            }

            displayResults('universalTestResult');
        }

        // ÙØ­Øµ localStorage
        function checkLocalStorage() {
            clearResults();
            log('ğŸ” Ø¨Ø¯Ø¡ ÙØ­Øµ localStorage...', 'info');

            try {
                const keys = [
                    'clubManagerData',
                    'verifiedClubs',
                    'transfermarktData',
                    'transfermarktRealData',
                    'unifiedLogoDatabase'
                ];

                for (const key of keys) {
                    const data = localStorage.getItem(key);
                    if (data) {
                        try {
                            const parsed = JSON.parse(data);
                            let count = 0;
                            
                            if (Array.isArray(parsed)) {
                                count = parsed.length;
                            } else if (parsed.clubs && Array.isArray(parsed.clubs)) {
                                count = parsed.clubs.length;
                            }

                            log(`âœ… ${key}: ${count} Ù†Ø§Ø¯ÙŠ (${(data.length / 1024).toFixed(2)}KB)`, 'success');
                        } catch (e) {
                            log(`âš ï¸ ${key}: Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©`, 'warning');
                        }
                    } else {
                        log(`âŒ ${key}: ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯`, 'error');
                    }
                }

                log('âœ… ÙØ­Øµ localStorage Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ localStorage: ${error.message}`, 'error');
            }

            displayResults('dataTestResult');
        }

        // ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function checkDataIntegrity() {
            clearResults();
            log('ğŸ” Ø¨Ø¯Ø¡ ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'info');

            try {
                const clubManagerData = localStorage.getItem('clubManagerData');
                if (clubManagerData) {
                    const data = JSON.parse(clubManagerData);
                    let validClubs = 0;
                    let clubsWithLogos = 0;

                    for (const club of data) {
                        if (club && (club.englishName || club.arabicName)) {
                            validClubs++;
                            if (club.logoUrl) {
                                clubsWithLogos++;
                            }
                        }
                    }

                    log(`ğŸ“Š Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ø§Ù„ØµØ§Ù„Ø­Ø©: ${validClubs}/${data.length}`, 'info');
                    log(`ğŸ¨ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© Ù…Ø¹ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª: ${clubsWithLogos}/${validClubs}`, 'info');

                    if (clubsWithLogos > 0) {
                        log('âœ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ù„Ø­Ø© ÙˆØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø´Ø¹Ø§Ø±Ø§Øª', 'success');
                    } else {
                        log('âš ï¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ù„Ø­Ø© ÙˆÙ„ÙƒÙ† Ø¨Ø¯ÙˆÙ† Ø´Ø¹Ø§Ø±Ø§Øª', 'warning');
                    }
                } else {
                    log('âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ clubManagerData', 'error');
                }

                log('âœ… ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${error.message}`, 'error');
            }

            displayResults('dataTestResult');
        }

        // Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function clearTestData() {
            clearResults();
            log('ğŸ§¹ Ø¨Ø¯Ø¡ Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±...', 'info');

            try {
                const testKeys = [
                    'testData',
                    'tempData',
                    'debugData'
                ];

                for (const key of testKeys) {
                    if (localStorage.getItem(key)) {
                        localStorage.removeItem(key);
                        log(`ğŸ—‘ï¸ ØªÙ… Ù…Ø³Ø­ ${key}`, 'info');
                    }
                }

                log('âœ… Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: ${error.message}`, 'error');
            }

            displayResults('dataTestResult');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª
        async function testPageLoad() {
            clearResults();
            log('ğŸš€ Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª...', 'info');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯
                log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯...', 'info');
                if (window.universalLogoFix) {
                    log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù…Ø­Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                } else {
                    log('âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯', 'error');
                }

                // Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'info');
                if (window.transfermarktSystem) {
                    log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                } else {
                    log('âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…Ø­Ù…Ù„', 'warning');
                }

                // Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                log('ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'info');
                if (typeof TransfermarktDataManager !== 'undefined') {
                    log('âœ… Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                } else {
                    log('âš ï¸ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…Ø­Ù…Ù„', 'warning');
                }

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª: ${error.message}`, 'error');
            }

            displayResults('pageTestResult');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡
        async function testPerformance() {
            clearResults();
            log('âš¡ Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡...', 'info');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙ‚Øª Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
                const initStart = performance.now();
                await window.universalLogoFix.init();
                const initEnd = performance.now();
                log(`â±ï¸ ÙˆÙ‚Øª Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: ${(initEnd - initStart).toFixed(2)}ms`, 'info');

                // Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙ‚Øª Ø§Ù„Ø¨Ø­Ø«
                const searchStart = performance.now();
                for (let i = 0; i < 100; i++) {
                    window.universalLogoFix.findClubLogo('Liverpool FC');
                }
                const searchEnd = performance.now();
                log(`â±ï¸ ÙˆÙ‚Øª 100 Ø¹Ù…Ù„ÙŠØ© Ø¨Ø­Ø«: ${(searchEnd - searchStart).toFixed(2)}ms`, 'info');

                // Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙ‚Øª Ø±Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª
                const testData = Array.from({ length: 50 }, (_, i) => ({
                    englishName: `Test Club ${i}`,
                    arabicName: `Ù†Ø§Ø¯ÙŠ Ø§Ø®ØªØ¨Ø§Ø± ${i}`
                }));

                const enrichStart = performance.now();
                window.universalLogoFix.enrichWithLogos(testData);
                const enrichEnd = performance.now();
                log(`â±ï¸ ÙˆÙ‚Øª Ø±Ø¨Ø· 50 Ø´Ø¹Ø§Ø±: ${(enrichEnd - enrichStart).toFixed(2)}ms`, 'info');

                log('âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…ÙƒØªÙ…Ù„', 'success');

            } catch (error) {
                log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø¡: ${error.message}`, 'error');
            }

            displayResults('pageTestResult');
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø£Ø¯Ø§Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù†', 'success');
            log('ğŸ’¡ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ù‚Ø¨Ù„ ÙØªØ­ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', 'info');
        });
    </script>
</body>
</html> 