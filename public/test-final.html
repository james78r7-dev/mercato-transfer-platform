<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø±ÙŠØ· Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ† Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Inter', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      min-height: 100vh;
    }
    
    .test-container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(135deg, #FFD700, #FFA000);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .test-grid {
      display: grid;
      grid-template-columns: 380px 1fr;
      gap: 30px;
      align-items: start;
    }
    
    .preview-container {
      position: sticky;
      top: 20px;
    }
    
    .iframe-container {
      width: 380px;
      height: 600px;
      border: 3px solid #FFD700;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
      background: #000;
    }
    
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .controls-panel {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .section {
      margin-bottom: 30px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .section h3 {
      color: #FFD700;
      margin-bottom: 15px;
      font-size: 1.3em;
    }
    
    .url-box {
      background: rgba(0, 0, 0, 0.3);
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }
    
    .url-text {
      font-family: monospace;
      font-size: 12px;
      color: #FFD700;
      word-break: break-all;
      background: rgba(0, 0, 0, 0.5);
      padding: 8px;
      border-radius: 5px;
      margin: 8px 0;
    }
    
    button {
      background: linear-gradient(135deg, #FFD700, #FFA000);
      color: #000;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
    }
    
    .feature-list {
      list-style: none;
      padding: 0;
    }
    
    .feature-list li {
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
    }
    
    .feature-list li:before {
      content: "âœ…";
      margin-left: 10px;
      font-size: 1.2em;
    }
    
    .settings-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin: 15px 0;
    }
    
    .setting-item {
      display: flex;
      flex-direction: column;
    }
    
    .setting-item label {
      color: #FFD700;
      margin-bottom: 5px;
      font-size: 0.9em;
    }
    
    .setting-item input {
      padding: 8px;
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 5px;
      background: rgba(0, 0, 0, 0.3);
      color: white;
    }
    
    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-left: 8px;
    }
    
    .status-online { background: #00ff00; }
    .status-offline { background: #ff0000; }
    .status-warning { background: #ffaa00; }
    
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    
    .comparison-table th,
    .comparison-table td {
      padding: 10px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .comparison-table th {
      background: rgba(255, 215, 0, 0.2);
      color: #FFD700;
    }
    
    .rank-demo {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }
    
    .rank-item {
      padding: 10px 15px;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      position: relative;
    }
    
    .rank-1 {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 193, 7, 0.2));
      border: 2px solid #FFD700;
      color: #FFD700;
    }
    
    .rank-2 {
      background: linear-gradient(135deg, rgba(192, 192, 192, 0.3), rgba(169, 169, 169, 0.2));
      border: 2px solid #C0C0C0;
      color: #C0C0C0;
    }
    
    .rank-3 {
      background: linear-gradient(135deg, rgba(205, 127, 50, 0.3), rgba(184, 115, 51, 0.2));
      border: 2px solid #CD7F32;
      color: #CD7F32;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="header">
      <h1>ğŸ¯ Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø±ÙŠØ· Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ† Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h1>
      <p>Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø·ÙˆØ± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª</p>
    </div>
    
    <div class="test-grid">
      <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø´Ø±ÙŠØ· -->
      <div class="preview-container">
        <h3 style="color: #FFD700; text-align: center; margin-bottom: 15px;">ğŸ“º Ù…Ø¹Ø§ÙŠÙ†Ø© Ù…Ø¨Ø§Ø´Ø±Ø©</h3>
        <div class="iframe-container">
          <iframe src="support-bar-final.html" title="Ø´Ø±ÙŠØ· Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ† Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ"></iframe>
        </div>
        <div style="text-align: center; margin-top: 15px;">
          <button onclick="reloadPreview()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„</button>
          <button onclick="openFullscreen()">ğŸ”— ÙØªØ­ ÙƒØ§Ù…Ù„</button>
        </div>
      </div>
      
      <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
      <div class="controls-panel">
        <!-- Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
        <div class="section">
          <h3>ğŸ†• Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</h3>
          <ul class="feature-list">
            <li>Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ù…Ø¹ Ø¹Ù†ÙˆØ§Ù† "Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ†" Ùˆ "Ø´ÙƒØ±Ø§Ù‹ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ†"</li>
            <li>ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ Ù…Ø¹ ØªØ£Ø«ÙŠØ±Ø§Øª Glassmorphism</li>
            <li>Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø±Ø§ÙƒØ²: ğŸ‘‘ Ø°Ù‡Ø¨ÙŠØŒ ğŸ¥ˆ ÙØ¶ÙŠØŒ ğŸ¥‰ Ø¨Ø±ÙˆÙ†Ø²ÙŠ</li>
            <li>ØªØ²Ø§Ù…Ù† Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ†</li>
            <li>ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©</li>
            <li>ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©</li>
            <li>Ù†Ø¸Ø§Ù… ØªØ´Ø®ÙŠØµ Ù…ÙØµÙ„</li>
          </ul>
        </div>
        
        <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§ÙƒØ² -->
        <div class="section">
          <h3>ğŸ† Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§ÙƒØ²</h3>
          <div class="rank-demo">
            <div class="rank-item rank-1">ğŸ‘‘ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø£ÙˆÙ„</div>
            <div class="rank-item rank-2">ğŸ¥ˆ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
            <div class="rank-item rank-3">ğŸ¥‰ Ø§Ù„Ù…Ø±ÙƒØ² Ø§Ù„Ø«Ø§Ù„Ø«</div>
          </div>
        </div>
        
        <!-- Ø±ÙˆØ§Ø¨Ø· OBS -->
        <div class="section">
          <h3>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ OBS</h3>
          
          <h4>Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:</h4>
          <div class="url-box">
            <div class="url-text" id="basicUrl">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            <button onclick="copyUrl('basicUrl')">ğŸ“‹ Ù†Ø³Ø®</button>
          </div>
          
          <h4>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØµØµØ©:</h4>
          <div class="settings-grid">
            <div class="setting-item">
              <label>Ø§Ù†ØªØ¸Ø§Ø± Ø£Ø¹Ù„Ù‰ (Ø«Ø§Ù†ÙŠØ©):</label>
              <input type="number" id="waitTop" value="15" min="5" max="60">
            </div>
            <div class="setting-item">
              <label>Ù…Ø¯Ø© Ø§Ù„Ù†Ø²ÙˆÙ„ (Ø«Ø§Ù†ÙŠØ©):</label>
              <input type="number" id="scrollDown" value="15" min="5" max="60">
            </div>
            <div class="setting-item">
              <label>Ø§Ù†ØªØ¸Ø§Ø± Ø£Ø³ÙÙ„ (Ø«Ø§Ù†ÙŠØ©):</label>
              <input type="number" id="waitBottom" value="15" min="5" max="60">
            </div>
            <div class="setting-item">
              <label>Ù…Ø¯Ø© Ø§Ù„ØµØ¹ÙˆØ¯ (Ø«Ø§Ù†ÙŠØ©):</label>
              <input type="number" id="scrollUp" value="15" min="5" max="60">
            </div>
          </div>
          
          <div class="url-box">
            <div class="url-text" id="customUrl">Ø§Ø¶ØºØ· "Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù…Ø®ØµØµ"</div>
            <button onclick="generateCustomUrl()">âš™ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù…Ø®ØµØµ</button>
            <button onclick="copyUrl('customUrl')">ğŸ“‹ Ù†Ø³Ø®</button>
          </div>
        </div>
        
        <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª OBS -->
        <div class="section">
          <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª OBS Ø§Ù„ØµØ­ÙŠØ­Ø©</h3>
          <table class="comparison-table">
            <tr>
              <th>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯</th>
              <th>Ø§Ù„Ù‚ÙŠÙ…Ø©</th>
            </tr>
            <tr>
              <td>Ø§Ù„Ø¹Ø±Ø¶ (Width)</td>
              <td>380</td>
            </tr>
            <tr>
              <td>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (Height)</td>
              <td>1080</td>
            </tr>
            <tr>
              <td>Refresh browser when scene becomes active</td>
              <td>âœ… Ù…ÙØ¹Ù„</td>
            </tr>
            <tr>
              <td>Shutdown source when not visible</td>
              <td>âœ… Ù…ÙØ¹Ù„</td>
            </tr>
            <tr>
              <td>Use hardware acceleration</td>
              <td>âœ… Ù…ÙØ¹Ù„</td>
            </tr>
          </table>
        </div>
        
        <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù… -->
        <div class="section">
          <h3>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
          <div>
            <span>ğŸŒ Ø§Ù„Ø®Ø§Ø¯Ù…:</span>
            <span class="status-indicator" id="serverStatus"></span>
            <span id="serverStatusText">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</span>
          </div>
          <div style="margin-top: 10px;">
            <span>ğŸ“¡ API Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ†:</span>
            <span class="status-indicator" id="apiStatus"></span>
            <span id="apiStatusText">Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</span>
          </div>
          <div style="margin-top: 10px;">
            <span>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:</span>
            <button onclick="openAdmin()" style="padding: 5px 10px; font-size: 0.9em;">ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
          </div>
        </div>
        
        <!-- Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª -->
        <div class="section">
          <h3>ğŸ“ˆ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª</h3>
          <table class="comparison-table">
            <tr>
              <th>Ø§Ù„Ù…ÙŠØ²Ø©</th>
              <th>Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…</th>
              <th>Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</th>
            </tr>
            <tr>
              <td>Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ</td>
              <td>âŒ</td>
              <td>âœ…</td>
            </tr>
            <tr>
              <td>Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø±Ø§ÙƒØ²</td>
              <td>âŒ</td>
              <td>âœ…</td>
            </tr>
            <tr>
              <td>Ø§Ù„ØªØ²Ø§Ù…Ù† Ù…Ø¹ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</td>
              <td>âŒ</td>
              <td>âœ…</td>
            </tr>
            <tr>
              <td>Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</td>
              <td>âŒ</td>
              <td>âœ…</td>
            </tr>
            <tr>
              <td>Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¨ØµØ±ÙŠØ©</td>
              <td>âš ï¸ Ø¨Ø³ÙŠØ·</td>
              <td>âœ… Ù…ØªÙ‚Ø¯Ù…</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
    function updateInfo() {
      const basicUrl = `${window.location.origin}/support-bar-final.html?autoScroll=true&waitTop=15&scrollDown=15&waitBottom=15&scrollUp=15&production=true`;
      document.getElementById('basicUrl').textContent = basicUrl;
    }
    
    // ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
    async function checkSystemStatus() {
      // ÙØ­Øµ Ø§Ù„Ø®Ø§Ø¯Ù…
      try {
        const response = await fetch('/api/supporters');
        if (response.ok) {
          document.getElementById('serverStatus').className = 'status-indicator status-online';
          document.getElementById('serverStatusText').textContent = 'Ù…ØªØµÙ„';
          
          document.getElementById('apiStatus').className = 'status-indicator status-online';
          document.getElementById('apiStatusText').textContent = 'ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ';
        } else {
          throw new Error('Server error');
        }
      } catch (error) {
        document.getElementById('serverStatus').className = 'status-indicator status-offline';
        document.getElementById('serverStatusText').textContent = 'ØºÙŠØ± Ù…ØªØµÙ„';
        
        document.getElementById('apiStatus').className = 'status-indicator status-offline';
        document.getElementById('apiStatusText').textContent = 'ØºÙŠØ± Ù…ØªØ§Ø­';
      }
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
    function reloadPreview() {
      const iframe = document.querySelector('iframe');
      iframe.src = iframe.src;
    }
    
    // ÙØªØ­ ÙÙŠ Ù†Ø§ÙØ°Ø© ÙƒØ§Ù…Ù„Ø©
    function openFullscreen() {
      window.open('support-bar-final.html', '_blank');
    }
    
    // ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
    function openAdmin() {
      window.open('supporters-admin.html', '_blank');
    }
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù…Ø®ØµØµ
    function generateCustomUrl() {
      const waitTop = document.getElementById('waitTop').value;
      const scrollDown = document.getElementById('scrollDown').value;
      const waitBottom = document.getElementById('waitBottom').value;
      const scrollUp = document.getElementById('scrollUp').value;
      
      const customUrl = `${window.location.origin}/support-bar-final.html?autoScroll=true&waitTop=${waitTop}&scrollDown=${scrollDown}&waitBottom=${waitBottom}&scrollUp=${scrollUp}&production=true`;
      document.getElementById('customUrl').textContent = customUrl;
    }
    
    // Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·
    function copyUrl(elementId) {
      const url = document.getElementById(elementId).textContent;
      navigator.clipboard.writeText(url).then(() => {
        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø­Ø§ÙØ¸Ø©!');
      });
    }
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', function() {
      updateInfo();
      checkSystemStatus();
      
      // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
      setInterval(checkSystemStatus, 30000);
    });
  </script>
</body>
</html>
